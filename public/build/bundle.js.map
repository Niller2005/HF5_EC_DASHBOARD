{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../node_modules/svelte-router-spa/src/store.js","../../node_modules/url-params-parser/index.js","../../node_modules/url-params-parser/url_parser.js","../../node_modules/svelte-router-spa/src/lib/utils.js","../../node_modules/svelte-router-spa/src/router/current.js","../../node_modules/svelte-router-spa/src/router/guard.js","../../node_modules/svelte-router-spa/src/router/redirect.js","../../node_modules/svelte-router-spa/src/router/route.js","../../node_modules/svelte-router-spa/src/router/path.js","../../node_modules/svelte-router-spa/src/router/finder.js","../../node_modules/svelte-router-spa/src/spa_router.js","../../node_modules/svelte-router-spa/src/components/route.svelte","../../node_modules/svelte-router-spa/src/components/router.svelte","../../node_modules/svelte-router-spa/src/components/navigate.svelte","../../node_modules/svelte-router-spa/src/index.js","../../node_modules/parseuri/index.js","../../node_modules/socket.io-client/node_modules/ms/index.js","../../node_modules/socket.io-client/node_modules/debug/src/debug.js","../../node_modules/socket.io-client/node_modules/debug/src/browser.js","../../node_modules/socket.io-client/lib/url.js","../../node_modules/socket.io-parser/node_modules/ms/index.js","../../node_modules/socket.io-parser/node_modules/debug/src/debug.js","../../node_modules/socket.io-parser/node_modules/debug/src/browser.js","../../node_modules/component-emitter/index.js","../../node_modules/isarray/index.js","../../node_modules/socket.io-parser/is-buffer.js","../../node_modules/socket.io-parser/binary.js","../../node_modules/socket.io-parser/index.js","../../node_modules/has-cors/index.js","../../node_modules/engine.io-client/lib/globalThis.browser.js","../../node_modules/engine.io-client/lib/xmlhttprequest.js","../../node_modules/engine.io-parser/lib/keys.js","../../node_modules/has-binary2/index.js","../../node_modules/arraybuffer.slice/index.js","../../node_modules/after/index.js","../../node_modules/engine.io-parser/lib/utf8.js","../../node_modules/base64-arraybuffer/lib/base64-arraybuffer.js","../../node_modules/blob/index.js","../../node_modules/engine.io-parser/lib/browser.js","../../node_modules/engine.io-client/lib/transport.js","../../node_modules/parseqs/index.js","../../node_modules/yeast/index.js","../../node_modules/component-inherit/index.js","../../node_modules/engine.io-client/node_modules/ms/index.js","../../node_modules/engine.io-client/node_modules/debug/src/debug.js","../../node_modules/engine.io-client/node_modules/debug/src/browser.js","../../node_modules/engine.io-client/lib/transports/polling.js","../../node_modules/engine.io-client/lib/transports/polling-xhr.js","../../node_modules/engine.io-client/lib/transports/polling-jsonp.js","../../node_modules/engine.io-client/lib/transports/websocket.js","../../node_modules/engine.io-client/lib/transports/index.js","../../node_modules/indexof/index.js","../../node_modules/engine.io-client/lib/socket.js","../../node_modules/engine.io-client/lib/index.js","../../node_modules/to-array/index.js","../../node_modules/socket.io-client/lib/on.js","../../node_modules/component-bind/index.js","../../node_modules/socket.io-client/lib/socket.js","../../node_modules/backo2/index.js","../../node_modules/socket.io-client/lib/manager.js","../../node_modules/socket.io-client/lib/index.js","../../node_modules/uberproto/lib/proto.js","../../node_modules/ms/index.js","../../node_modules/debug/src/common.js","../../node_modules/events/events.js","../../node_modules/debug/src/browser.js","../../node_modules/@feathersjs/commons/lib/utils.js","../../node_modules/@feathersjs/commons/lib/hooks.js","../../node_modules/@feathersjs/commons/lib/index.js","../../node_modules/@feathersjs/feathers/lib/events.js","../../node_modules/@feathersjs/feathers/lib/hooks/base.js","../../node_modules/@feathersjs/feathers/lib/hooks/index.js","../../node_modules/@feathersjs/feathers/lib/version.js","../../node_modules/@feathersjs/feathers/lib/application.js","../../node_modules/@feathersjs/feathers/lib/index.js","../../node_modules/@feathersjs/errors/lib/index.js","../../node_modules/@feathersjs/transport-commons/lib/client.js","../../node_modules/@feathersjs/transport-commons/client.js","../../node_modules/@feathersjs/socketio-client/lib/index.js","../../src/services/feather.ts","../../src/stores.ts","../../src/views/Dashboard.svelte","../../src/routes.ts","../../node_modules/style-inject/dist/style-inject.es.js","../../src/main.ts"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    const z_index = (parseInt(computed_style.zIndex) || 0) - 1;\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', `display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ` +\n        `overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${z_index};`);\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = `data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>`;\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error(`Cannot have duplicate keys in a keyed each`);\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += \" \" + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += \" \" + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.29.0' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev(\"SvelteDOMRemove\", { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? [\"capture\"] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev(\"SvelteDOMAddEventListener\", { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev(\"SvelteDOMRemoveEventListener\", { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev(\"SvelteDOMRemoveAttribute\", { node, attribute });\n    else\n        dispatch_dev(\"SvelteDOMSetAttribute\", { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev(\"SvelteDOMSetProperty\", { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev(\"SvelteDOMSetDataset\", { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev(\"SvelteDOMSetData\", { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error(`Infinite loop detected`);\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal';\nexport { get_store_value as get } from '../internal';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","const writable = require('svelte/store').writable\n\nconst router = writable({})\n\nfunction set(route) {\n  router.set(route)\n}\n\nfunction remove() {\n  router.set({})\n}\n\nconst activeRoute = {\n  subscribe: router.subscribe,\n  set,\n  remove\n}\n\nmodule.exports = { activeRoute }\n","const UrlParser = require(\"./url_parser\").UrlParser;\n\nmodule.exports = {\n  UrlParser\n};\n","const UrlParser = (urlString, namedUrl = \"\") => {\n  const urlBase = new URL(urlString);\n\n  /**\n   * Wrapper for URL.host\n   *\n   **/\n  function host() {\n    return urlBase.host;\n  }\n\n  /**\n   * Wrapper for URL.hostname\n   *\n   **/\n  function hostname() {\n    return urlBase.hostname;\n  }\n\n  /**\n   * Returns an object with all the named params and their values\n   *\n   **/\n  function namedParams() {\n    const allPathName = pathNames();\n    const allNamedParamsKeys = namedParamsWithIndex();\n\n    return allNamedParamsKeys.reduce((values, paramKey) => {\n      values[paramKey.value] = allPathName[paramKey.index];\n      return values;\n    }, {});\n  }\n\n  /**\n   * Returns an array with all the named param keys\n   *\n   **/\n  function namedParamsKeys() {\n    const allNamedParamsKeys = namedParamsWithIndex(namedUrl);\n\n    return allNamedParamsKeys.reduce((values, paramKey) => {\n      values.push(paramKey.value);\n      return values;\n    }, []);\n  }\n\n  /**\n   * Returns an array with all the named param values\n   *\n   **/\n  function namedParamsValues() {\n    const allPathName = pathNames();\n    const allNamedParamsKeys = namedParamsWithIndex();\n\n    return allNamedParamsKeys.reduce((values, paramKey) => {\n      values.push(allPathName[paramKey.index]);\n      return values;\n    }, []);\n  }\n\n  /**\n   * Returns an array with all named param ids and their position in the path\n   * Private\n   **/\n  function namedParamsWithIndex() {\n    const namedUrlParams = getPathNames(namedUrl);\n\n    return namedUrlParams.reduce((validParams, param, index) => {\n      if (param[0] === \":\") {\n        validParams.push({ value: param.slice(1), index });\n      }\n      return validParams;\n    }, []);\n  }\n\n  /**\n   * Wrapper for URL.port\n   *\n   **/\n  function port() {\n    return urlBase.port;\n  }\n\n  /**\n   * Wrapper for URL.pathname\n   *\n   **/\n  function pathname() {\n    return urlBase.pathname;\n  }\n\n  /**\n   * Wrapper for URL.protocol\n   *\n   **/\n  function protocol() {\n    return urlBase.protocol;\n  }\n\n  /**\n   * Wrapper for URL.search\n   *\n   **/\n  function search() {\n    return urlBase.search;\n  }\n\n  /**\n   * Returns an object with all query params and their values\n   *\n   **/\n  function queryParams() {\n    const params = {};\n    urlBase.searchParams.forEach((value, key) => {\n      params[key] = value;\n    });\n\n    return params;\n  }\n\n  /**\n   * Returns an array with all the query param keys\n   *\n   **/\n  function queryParamsKeys() {\n    const params = [];\n    urlBase.searchParams.forEach((_value, key) => {\n      params.push(key);\n    });\n\n    return params;\n  }\n\n  /**\n   * Returns an array with all the query param values\n   *\n   **/\n  function queryParamsValues() {\n    const params = [];\n    urlBase.searchParams.forEach(value => {\n      params.push(value);\n    });\n\n    return params;\n  }\n\n  /**\n   * Returns an array with all the elements of a pathname\n   *\n   **/\n  function pathNames() {\n    return getPathNames(urlBase.pathname);\n  }\n\n  /**\n   * Returns an array with all the parts of a pathname\n   * Private method\n   **/\n  function getPathNames(pathName) {\n    if (pathName === \"/\" || pathName.trim().length === 0) return [pathName];\n    if (pathName.slice(-1) === \"/\") {\n      pathName = pathName.slice(0, -1);\n    }\n    if (pathName[0] === \"/\") {\n      pathName = pathName.slice(1);\n    }\n\n    return pathName.split(\"/\");\n  }\n\n  return Object.freeze({\n    host: host(),\n    hostname: hostname(),\n    namedParams: namedParams(),\n    namedParamsKeys: namedParamsKeys(),\n    namedParamsValues: namedParamsValues(),\n    pathNames: pathNames(),\n    port: port(),\n    pathname: pathname(),\n    protocol: protocol(),\n    search: search(),\n    queryParams: queryParams(),\n    queryParamsKeys: queryParamsKeys(),\n    queryParamsValues: queryParamsValues()\n  });\n};\n\nmodule.exports = { UrlParser };\n","/**\n * Returns true if object has any nested routes empty\n * @param routeObject\n **/\nfunction anyEmptyNestedRoutes(routeObject) {\n  let result = false\n  if (Object.keys(routeObject).length === 0) {\n    return true\n  }\n\n  if (routeObject.childRoute && Object.keys(routeObject.childRoute).length === 0) {\n    result = true\n  } else if (routeObject.childRoute) {\n    result = anyEmptyNestedRoutes(routeObject.childRoute)\n  }\n\n  return result\n}\n\n/**\n * Compare two routes ignoring named params\n * @param pathName string\n * @param routeName string\n **/\n\nfunction compareRoutes(pathName, routeName) {\n  routeName = removeSlash(routeName)\n\n  if (routeName.includes(':')) {\n    return routeName.includes(pathName)\n  } else {\n    return routeName.startsWith(pathName)\n  }\n}\n\n/**\n * Returns a boolean indicating if the name of path exists in the route based on the language parameter\n * @param pathName string\n * @param route object\n * @param language string\n **/\n\nfunction findLocalisedRoute(pathName, route, language) {\n  let exists = false\n\n  if (language) {\n    return { exists: route.lang && route.lang[language] && route.lang[language].includes(pathName), language }\n  }\n\n  exists = compareRoutes(pathName, route.name)\n\n  if (!exists && route.lang && typeof route.lang === 'object') {\n    for (const [key, value] of Object.entries(route.lang)) {\n      if (compareRoutes(pathName, value)) {\n        exists = true\n        language = key\n      }\n    }\n  }\n\n  return { exists, language }\n}\n\n/**\n * Return all the consecutive named param (placeholders) of a pathname\n * @param pathname\n **/\nfunction getNamedParams(pathName = '') {\n  if (pathName.trim().length === 0) return []\n  const namedUrlParams = getPathNames(pathName)\n  return namedUrlParams.reduce((validParams, param) => {\n    if (param[0] === ':') {\n      validParams.push(param.slice(1))\n    }\n\n    return validParams\n  }, [])\n}\n\n/**\n * Split a pathname based on /\n * @param pathName\n * Private method\n **/\nfunction getPathNames(pathName) {\n  if (pathName === '/' || pathName.trim().length === 0) return [pathName]\n\n  pathName = removeSlash(pathName, 'both')\n\n  return pathName.split('/')\n}\n\n/**\n * Return the first part of a pathname until the first named param is found\n * @param name\n **/\nfunction nameToPath(name = '') {\n  let routeName\n  if (name === '/' || name.trim().length === 0) return name\n  name = removeSlash(name, 'lead')\n  routeName = name.split(':')[0]\n  routeName = removeSlash(routeName, 'trail')\n\n  return routeName.toLowerCase()\n}\n\n/**\n * Return the path name excluding query params\n * @param name\n **/\nfunction pathWithoutQueryParams(currentRoute) {\n  const path = currentRoute.path.split('?')\n  return path[0]\n}\n\n/**\n * Return the path name including query params\n * @param name\n **/\nfunction pathWithQueryParams(currentRoute) {\n  let queryParams = []\n  if (currentRoute.queryParams) {\n    for (let [key, value] of Object.entries(currentRoute.queryParams)) {\n      queryParams.push(`${key}=${value}`)\n    }\n  }\n\n  if (queryParams.length > 0) {\n    return `${currentRoute.path}?${queryParams.join('&')}`\n  } else {\n    return currentRoute.path\n  }\n}\n\n/**\n * Returns a string with trailing or leading slash character removed\n * @param pathName string\n * @param position string - lead, trail, both\n **/\nfunction removeExtraPaths(pathNames, basePathNames) {\n  const names = basePathNames.split('/')\n  if (names.length > 1) {\n    names.forEach(function (name, index) {\n      if (name.length > 0 && index > 0) {\n        pathNames.shift()\n      }\n    })\n  }\n\n  return pathNames\n}\n\n/**\n * Returns a string with trailing or leading slash character removed\n * @param pathName string\n * @param position string - lead, trail, both\n **/\n\nfunction removeSlash(pathName, position = 'lead') {\n  if (pathName.trim().length < 1) {\n    return ''\n  }\n\n  if (position === 'trail' || position === 'both') {\n    if (pathName.slice(-1) === '/') {\n      pathName = pathName.slice(0, -1)\n    }\n  }\n\n  if (position === 'lead' || position === 'both') {\n    if (pathName[0] === '/') {\n      pathName = pathName.slice(1)\n    }\n  }\n\n  return pathName\n}\n\n/**\n * Returns the name of the route based on the language parameter\n * @param route object\n * @param language string\n **/\n\nfunction routeNameLocalised(route, language = null) {\n  if (!language || !route.lang || !route.lang[language]) {\n    return route.name\n  } else {\n    return route.lang[language]\n  }\n}\n\n/**\n * Return the path name excluding query params\n * @param name\n **/\nfunction startsWithNamedParam(currentRoute) {\n  const routeName = removeSlash(currentRoute)\n  return routeName.startsWith(':')\n}\n\n/**\n * Updates the base route path.\n * Route objects can have nested routes (childRoutes) or just a long name like \"admin/employees/show/:id\"\n *\n * @param basePath string\n * @param pathNames array\n * @param route object\n * @param language string\n **/\n\nfunction updateRoutePath(basePath, pathNames, route, language, convert = false) {\n  if (basePath === '/' || basePath.trim().length === 0) return { result: basePath, language: null }\n\n  let basePathResult = basePath\n  let routeName = route.name\n  let currentLanguage = language\n\n  if (convert) {\n    currentLanguage = ''\n  }\n\n  routeName = removeSlash(routeName)\n  basePathResult = removeSlash(basePathResult)\n\n  if (!route.childRoute) {\n    let localisedRoute = findLocalisedRoute(basePathResult, route, currentLanguage)\n\n    if (localisedRoute.exists && convert) {\n      basePathResult = routeNameLocalised(route, language)\n    }\n\n    let routeNames = routeName.split(':')[0]\n    routeNames = removeSlash(routeNames, 'trail')\n    routeNames = routeNames.split('/')\n    routeNames.shift()\n    routeNames.forEach(() => {\n      const currentPathName = pathNames[0]\n      localisedRoute = findLocalisedRoute(`${basePathResult}/${currentPathName}`, route, currentLanguage)\n\n      if (currentPathName && localisedRoute.exists) {\n        if (convert) {\n          basePathResult = routeNameLocalised(route, language)\n        } else {\n          basePathResult = `${basePathResult}/${currentPathName}`\n        }\n        pathNames.shift()\n      } else {\n        return { result: basePathResult, language: localisedRoute.language }\n      }\n    })\n    return { result: basePathResult, language: localisedRoute.language }\n  } else {\n    return { result: basePath, language: currentLanguage }\n  }\n}\n\nmodule.exports = {\n  anyEmptyNestedRoutes,\n  compareRoutes,\n  findLocalisedRoute,\n  getNamedParams,\n  getPathNames,\n  nameToPath,\n  pathWithQueryParams,\n  pathWithoutQueryParams,\n  removeExtraPaths,\n  removeSlash,\n  routeNameLocalised,\n  startsWithNamedParam,\n  updateRoutePath,\n}\n","const { UrlParser } = require('url-params-parser')\n\nconst { pathWithQueryParams, removeSlash } = require('../lib/utils')\n\nfunction RouterCurrent(trackPage) {\n  const trackPageview = trackPage || false\n  let activeRoute = ''\n\n  function setActive(newRoute) {\n    activeRoute = newRoute.path\n    pushActiveRoute(newRoute)\n  }\n\n  function active() {\n    return activeRoute\n  }\n\n  /**\n   * Returns true if pathName is current active route\n   * @param pathName String The path name to check against the current route.\n   * @param includePath Boolean if true checks that pathName is included in current route. If false should match it.\n   **/\n  function isActive(queryPath, includePath = false) {\n    if (queryPath[0] !== '/') {\n      queryPath = '/' + queryPath\n    }\n\n    // remove query params for comparison\n    let pathName = UrlParser(`http://fake.com${queryPath}`).pathname\n    let activeRoutePath = UrlParser(`http://fake.com${activeRoute}`).pathname\n\n    pathName = removeSlash(pathName, 'trail')\n\n    activeRoutePath = removeSlash(activeRoutePath, 'trail')\n\n    if (includePath) {\n      return activeRoutePath.includes(pathName)\n    } else {\n      return activeRoutePath === pathName\n    }\n  }\n\n  function pushActiveRoute(newRoute) {\n    if (typeof window !== 'undefined') {\n      const pathAndSearch = pathWithQueryParams(newRoute)\n\n      window.history.pushState({ page: pathAndSearch }, '', pathAndSearch)\n      if (trackPageview) {\n        gaTracking(pathAndSearch)\n      }\n    }\n  }\n\n  function gaTracking(newPage) {\n    if (typeof ga !== 'undefined') {\n      ga('set', 'page', newPage)\n      ga('send', 'pageview')\n    }\n  }\n\n  return Object.freeze({ active, isActive, setActive })\n}\n\nmodule.exports = { RouterCurrent }\n","function RouterGuard(onlyIf) {\n  const guardInfo = onlyIf\n\n  function valid() {\n    return guardInfo && guardInfo.guard && typeof guardInfo.guard === 'function'\n  }\n\n  function redirect() {\n    return !guardInfo.guard()\n  }\n\n  function redirectPath() {\n    let destinationUrl = '/'\n    if (guardInfo.redirect && guardInfo.redirect.length > 0) {\n      destinationUrl = guardInfo.redirect\n    }\n\n    return destinationUrl\n  }\n\n  return Object.freeze({ valid, redirect, redirectPath })\n}\n\nmodule.exports = { RouterGuard }\n","const { RouterGuard } = require('./guard')\n\nfunction RouterRedirect(route, currentPath) {\n  const guard = RouterGuard(route.onlyIf)\n\n  function path() {\n    let redirectTo = currentPath\n    if (route.redirectTo && route.redirectTo.length > 0) {\n      redirectTo = route.redirectTo\n    }\n\n    if (guard.valid() && guard.redirect()) {\n      redirectTo = guard.redirectPath()\n    }\n\n    return redirectTo\n  }\n\n  return Object.freeze({ path })\n}\n\nmodule.exports = { RouterRedirect }\n","const { UrlParser } = require('url-params-parser')\n\nfunction RouterRoute({ routeInfo, path, routeNamedParams, urlParser, namedPath, language }) {\n  function namedParams() {\n    const parsedParams = UrlParser(`https://fake.com${urlParser.pathname}`, namedPath).namedParams\n\n    return { ...routeNamedParams, ...parsedParams }\n  }\n\n  function get() {\n    return {\n      name: path,\n      component: routeInfo.component,\n      layout: routeInfo.layout,\n      queryParams: urlParser.queryParams,\n      namedParams: namedParams(),\n      path,\n      language\n    }\n  }\n\n  return Object.freeze({ get, namedParams })\n}\n\nmodule.exports = { RouterRoute }\n","const { updateRoutePath, getNamedParams, nameToPath, removeExtraPaths, routeNameLocalised } = require('../lib/utils')\n\nfunction RouterPath({ basePath, basePathName, pathNames, convert, currentLanguage }) {\n  let updatedPathRoute\n  let route\n  let routePathLanguage = currentLanguage\n\n  function updatedPath(currentRoute) {\n    route = currentRoute\n    updatedPathRoute = updateRoutePath(basePathName, pathNames, route, routePathLanguage, convert)\n    routePathLanguage = convert ? currentLanguage : updatedPathRoute.language\n\n    return updatedPathRoute\n  }\n\n  function localisedPathName() {\n    return routeNameLocalised(route, routePathLanguage)\n  }\n\n  function localisedRouteWithoutNamedParams() {\n    return nameToPath(localisedPathName())\n  }\n\n  function basePathNameWithoutNamedParams() {\n    return nameToPath(updatedPathRoute.result)\n  }\n\n  function namedPath() {\n    const localisedPath = localisedPathName()\n\n    return basePath ? `${basePath}/${localisedPath}` : localisedPath\n  }\n\n  function routePath() {\n    let routePathValue = `${basePath}/${basePathNameWithoutNamedParams()}`\n    if (routePathValue === '//') {\n      routePathValue = '/'\n    }\n\n    if (routePathLanguage) {\n      pathNames = removeExtraPaths(pathNames, localisedRouteWithoutNamedParams())\n    }\n\n    const namedParams = getNamedParams(localisedPathName())\n    if (namedParams && namedParams.length > 0) {\n      namedParams.forEach(function () {\n        if (pathNames.length > 0) {\n          routePathValue += `/${pathNames.shift()}`\n        }\n      })\n    }\n\n    return routePathValue\n  }\n\n  function routeLanguage() {\n    return routePathLanguage\n  }\n\n  function basePathSameAsLocalised() {\n    return basePathNameWithoutNamedParams() === localisedRouteWithoutNamedParams()\n  }\n\n  return Object.freeze({\n    basePathSameAsLocalised,\n    updatedPath,\n    basePathNameWithoutNamedParams,\n    localisedPathName,\n    localisedRouteWithoutNamedParams,\n    namedPath,\n    pathNames,\n    routeLanguage,\n    routePath,\n  })\n}\n\nmodule.exports = { RouterPath }\n","const { UrlParser } = require('url-params-parser')\n\nconst { RouterRedirect } = require('./redirect')\nconst { RouterRoute } = require('./route')\nconst { RouterPath } = require('./path')\nconst { anyEmptyNestedRoutes, pathWithoutQueryParams, startsWithNamedParam } = require('../lib/utils')\n\nconst NotFoundPage = '/404.html'\n\nfunction RouterFinder({ routes, currentUrl, routerOptions, convert }) {\n  const defaultLanguage = routerOptions.defaultLanguage\n  const urlParser = UrlParser(currentUrl)\n  let redirectTo = ''\n  let routeNamedParams = {}\n  let staticParamMatch = false\n\n  function findActiveRoute() {\n    let searchActiveRoute = searchActiveRoutes(routes, '', urlParser.pathNames, routerOptions.lang, convert)\n\n    if (!searchActiveRoute || !Object.keys(searchActiveRoute).length || anyEmptyNestedRoutes(searchActiveRoute)) {\n      if (typeof window !== 'undefined') {\n        searchActiveRoute = routeNotFound(routerOptions.lang)\n      }\n    } else {\n      searchActiveRoute.path = pathWithoutQueryParams(searchActiveRoute)\n    }\n\n    return searchActiveRoute\n  }\n\n  /**\n   * Gets an array of routes and the browser pathname and return the active route\n   * @param routes\n   * @param basePath\n   * @param pathNames\n   **/\n  function searchActiveRoutes(routes, basePath, pathNames, currentLanguage, convert) {\n    let currentRoute = {}\n    let basePathName = pathNames.shift().toLowerCase()\n    const routerPath = RouterPath({ basePath, basePathName, pathNames, convert, currentLanguage })\n    staticParamMatch = false\n\n    routes.forEach(function (route) {\n      routerPath.updatedPath(route)\n      if (matchRoute(routerPath, route.name)) {\n        let routePath = routerPath.routePath()\n        redirectTo = RouterRedirect(route, redirectTo).path()\n\n        if (currentRoute.name !== routePath) {\n          currentRoute = setCurrentRoute({\n            route,\n            routePath,\n            routeLanguage: routerPath.routeLanguage(),\n            urlParser,\n            namedPath: routerPath.namedPath(),\n          })\n        }\n\n        if (route.nestedRoutes && route.nestedRoutes.length > 0 && routerPath.pathNames.length > 0) {\n          currentRoute.childRoute = searchActiveRoutes(\n            route.nestedRoutes,\n            routePath,\n            routerPath.pathNames,\n            routerPath.routeLanguage(),\n            convert\n          )\n          currentRoute.path = currentRoute.childRoute.path\n          currentRoute.language = currentRoute.childRoute.language\n        } else if (nestedRoutesAndNoPath(route, routerPath.pathNames)) {\n          const indexRoute = searchActiveRoutes(\n            route.nestedRoutes,\n            routePath,\n            ['index'],\n            routerPath.routeLanguage(),\n            convert\n          )\n          if (indexRoute && Object.keys(indexRoute).length > 0) {\n            currentRoute.childRoute = indexRoute\n            currentRoute.language = currentRoute.childRoute.language\n          }\n        }\n      }\n    })\n\n    if (redirectTo) {\n      currentRoute.redirectTo = redirectTo\n    }\n\n    return currentRoute\n  }\n\n  function matchRoute(routerPath, routeName) {\n    const basePathSameAsLocalised = routerPath.basePathSameAsLocalised()\n    if (basePathSameAsLocalised) {\n      staticParamMatch = true\n    }\n\n    return basePathSameAsLocalised || (!staticParamMatch && startsWithNamedParam(routeName))\n  }\n\n  function nestedRoutesAndNoPath(route, pathNames) {\n    return route.nestedRoutes && route.nestedRoutes.length > 0 && pathNames.length === 0\n  }\n\n  function setCurrentRoute({ route, routePath, routeLanguage, urlParser, namedPath }) {\n    const routerRoute = RouterRoute({\n      routeInfo: route,\n      urlParser,\n      path: routePath,\n      routeNamedParams,\n      namedPath,\n      language: routeLanguage || defaultLanguage,\n    })\n    routeNamedParams = routerRoute.namedParams()\n\n    return routerRoute.get()\n  }\n\n  function routeNotFound(customLanguage) {\n    const custom404Page = routes.find((route) => route.name == '404')\n    const language = customLanguage || defaultLanguage || ''\n    if (custom404Page) {\n      return { ...custom404Page, language, path: '404' }\n    } else {\n      return { name: '404', component: '', path: '404', redirectTo: NotFoundPage }\n    }\n  }\n\n  return Object.freeze({ findActiveRoute })\n}\n\nmodule.exports = { RouterFinder }\n","const { activeRoute } = require('./store')\nconst { RouterCurrent } = require('./router/current')\nconst { RouterFinder } = require('./router/finder')\nconst { removeSlash } = require('./lib/utils')\n\nconst NotFoundPage = '/404.html'\n\nlet userDefinedRoutes = []\nlet routerOptions = {}\nlet routerCurrent\n\n/**\n * Object exposes one single property: activeRoute\n * @param routes  Array of routes\n * @param currentUrl current url\n * @param options configuration options\n **/\nfunction SpaRouter(routes, currentUrl, options = {}) {\n  routerOptions = { ...options }\n  if (typeof currentUrl === 'undefined' || currentUrl === '') {\n    currentUrl = document.location.href\n  }\n\n  routerCurrent = RouterCurrent(routerOptions.gaPageviews)\n\n  currentUrl = removeSlash(currentUrl, 'trail')\n  userDefinedRoutes = routes\n\n  function findActiveRoute() {\n    let convert = false\n\n    if (routerOptions.langConvertTo) {\n      routerOptions.lang = routerOptions.langConvertTo\n      convert = true\n    }\n\n    return RouterFinder({ routes, currentUrl, routerOptions, convert }).findActiveRoute()\n  }\n\n  /**\n   * Redirect current route to another\n   * @param destinationUrl\n   **/\n  function navigateNow(destinationUrl) {\n    if (typeof window !== 'undefined') {\n      if (destinationUrl === NotFoundPage) {\n        routerCurrent.setActive({ path: NotFoundPage })\n      } else {\n        navigateTo(destinationUrl)\n      }\n    }\n\n    return destinationUrl\n  }\n\n  function setActiveRoute() {\n    const currentRoute = findActiveRoute()\n    if (currentRoute.redirectTo) {\n      return navigateNow(currentRoute.redirectTo)\n    }\n\n    routerCurrent.setActive(currentRoute)\n    activeRoute.set(currentRoute)\n\n    return currentRoute\n  }\n\n  return Object.freeze({\n    setActiveRoute,\n    findActiveRoute,\n  })\n}\n\n/**\n * Converts a route to its localised version\n * @param pathName\n **/\nfunction localisedRoute(pathName, language) {\n  pathName = removeSlash(pathName, 'lead')\n  routerOptions.langConvertTo = language\n\n  return SpaRouter(userDefinedRoutes, 'http://fake.com/' + pathName, routerOptions).findActiveRoute()\n}\n\n/**\n * Updates the current active route and updates the browser pathname\n * @param pathName String\n * @param language String\n **/\nfunction navigateTo(pathName, language = null) {\n  pathName = removeSlash(pathName, 'lead')\n\n  if (language) {\n    routerOptions.langConvertTo = language\n  }\n\n  return SpaRouter(userDefinedRoutes, 'http://fake.com/' + pathName, routerOptions).setActiveRoute()\n}\n\n/**\n * Returns true if pathName is current active route\n * @param pathName String The path name to check against the current route.\n * @param includePath Boolean if true checks that pathName is included in current route. If false should match it.\n **/\nfunction routeIsActive(queryPath, includePath = false) {\n  return routerCurrent.isActive(queryPath, includePath)\n}\n\nif (typeof window !== 'undefined') {\n  // Avoid full page reload on local routes\n  window.addEventListener('click', (event) => {\n    if (event.target.pathname && event.target.hostname === window.location.hostname && event.target.localName === 'a') {\n      event.preventDefault()\n      let navigatePathname = event.target.pathname + event.target.search\n      if (event.target.hash) {\n        navigatePathname += event.target.hash\n      }\n      const destinationUrl = event.target.pathname + event.target.search\n      if (event.target.target === '_blank') {\n        window.open(destinationUrl, 'newTab')\n      } else {\n        navigateTo(destinationUrl)\n      }\n    }\n  })\n\n  window.onpopstate = function (_event) {\n    let navigatePathname = window.location.pathname + window.location.search\n    if (window.location.hash) {\n      navigatePathname += window.location.hash\n    }\n    navigateTo(navigatePathname)\n  }\n}\n\nmodule.exports = { SpaRouter, localisedRoute, navigateTo, routeIsActive }\n","<script>\n  export let currentRoute = {}\n  export let params = {}\n</script>\n\n{#if currentRoute.layout}\n  <svelte:component this={currentRoute.layout} currentRoute={{ ...currentRoute, layout: '' }} {params} />\n{:else if currentRoute.component}\n  <svelte:component this={currentRoute.component} currentRoute={{ ...currentRoute, component: '' }} {params} />\n{:else if currentRoute.childRoute}\n  <svelte:self currentRoute={currentRoute.childRoute} {params} />\n{/if}\n","<script>\n  import { onMount } from 'svelte'\n\n  import { SpaRouter } from '../spa_router'\n  import Route from './route.svelte'\n  import { activeRoute } from '../store'\n\n  export let routes = []\n  export let options = {}\n\n  onMount(function() {\n    SpaRouter(routes, document.location.href, options).setActiveRoute()\n  })\n</script>\n\n<Route currentRoute={$activeRoute} />\n","<script>\n  import { onMount } from 'svelte'\n  import { localisedRoute, navigateTo, routeIsActive } from '../spa_router'\n  export let to = '/'\n  export let title = ''\n  export let styles = ''\n  export let lang = null\n\n  onMount(function() {\n    if (lang) {\n      const route = localisedRoute(to, lang)\n      if (route) {\n        to = route.path\n      }\n    }\n  })\n\n  function navigate(event) {\n    event.preventDefault()\n    event.stopPropagation()\n    navigateTo(to)\n  }\n</script>\n\n<a href={to} {title} on:click={navigate} class={styles} class:active={routeIsActive(to)}>\n  <slot />\n</a>\n","const { SpaRouter, navigateTo, localisedRoute, routeIsActive } = require('./spa_router')\nconst Route = require('./components/route.svelte')\nconst Router = require('./components/router.svelte')\nconst Navigate = require('./components/navigate.svelte')\n\nmodule.exports = {\n  SpaRouter,\n  localisedRoute,\n  navigateTo,\n  routeIsActive,\n  Route,\n  Router,\n  Navigate\n}\n","/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n\n    return uri;\n};\n\nfunction pathNames(obj, path) {\n    var regx = /\\/{2,9}/g,\n        names = path.replace(regx, \"/\").split(\"/\");\n\n    if (path.substr(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.substr(path.length - 1, 1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n\n    return names;\n}\n\nfunction queryKey(uri, query) {\n    var data = {};\n\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n\n    return data;\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\n/**\n * Module dependencies.\n */\n\nvar parseuri = require('parseuri');\nvar debug = require('debug')('socket.io-client:url');\n\n/**\n * Module exports.\n */\n\nmodule.exports = url;\n\n/**\n * URL parser.\n *\n * @param {String} url\n * @param {Object} An object meant to mimic window.location.\n *                 Defaults to window.location.\n * @api public\n */\n\nfunction url (uri, loc) {\n  var obj = uri;\n\n  // default to window.location\n  loc = loc || (typeof location !== 'undefined' && location);\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  // relative path support\n  if ('string' === typeof uri) {\n    if ('/' === uri.charAt(0)) {\n      if ('/' === uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.host + uri;\n      }\n    }\n\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' !== typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    // parse\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  // make sure we treat `localhost:80` and `localhost` equally\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    } else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n\n  obj.path = obj.path || '/';\n\n  var ipv6 = obj.host.indexOf(':') !== -1;\n  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\n\n  // define unique id\n  obj.id = obj.protocol + '://' + host + ':' + obj.port;\n  // define href\n  obj.href = obj.protocol + '://' + host + (loc && loc.port === obj.port ? '' : (':' + obj.port));\n\n  return obj;\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n\r\n  // Remove event specific arrays for event types that no\r\n  // one is subscribed for to avoid memory leak.\r\n  if (callbacks.length === 0) {\r\n    delete this._callbacks['$' + event];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  var args = new Array(arguments.length - 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  for (var i = 1; i < arguments.length; i++) {\r\n    args[i - 1] = arguments[i];\r\n  }\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","\nmodule.exports = isBuf;\n\nvar withNativeBuffer = typeof Buffer === 'function' && typeof Buffer.isBuffer === 'function';\nvar withNativeArrayBuffer = typeof ArrayBuffer === 'function';\n\nvar isView = function (obj) {\n  return typeof ArrayBuffer.isView === 'function' ? ArrayBuffer.isView(obj) : (obj.buffer instanceof ArrayBuffer);\n};\n\n/**\n * Returns true if obj is a buffer or an arraybuffer.\n *\n * @api private\n */\n\nfunction isBuf(obj) {\n  return (withNativeBuffer && Buffer.isBuffer(obj)) ||\n          (withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj)));\n}\n","/*global Blob,File*/\n\n/**\n * Module requirements\n */\n\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof Blob === 'function' || (typeof Blob !== 'undefined' && toString.call(Blob) === '[object BlobConstructor]');\nvar withNativeFile = typeof File === 'function' || (typeof File !== 'undefined' && toString.call(File) === '[object FileConstructor]');\n\n/**\n * Replaces every Buffer | ArrayBuffer in packet with a numbered placeholder.\n * Anything with blobs or files should be fed through removeBlobs before coming\n * here.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @api public\n */\n\nexports.deconstructPacket = function(packet) {\n  var buffers = [];\n  var packetData = packet.data;\n  var pack = packet;\n  pack.data = _deconstructPacket(packetData, buffers);\n  pack.attachments = buffers.length; // number of binary 'attachments'\n  return {packet: pack, buffers: buffers};\n};\n\nfunction _deconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (isBuf(data)) {\n    var placeholder = { _placeholder: true, num: buffers.length };\n    buffers.push(data);\n    return placeholder;\n  } else if (isArray(data)) {\n    var newData = new Array(data.length);\n    for (var i = 0; i < data.length; i++) {\n      newData[i] = _deconstructPacket(data[i], buffers);\n    }\n    return newData;\n  } else if (typeof data === 'object' && !(data instanceof Date)) {\n    var newData = {};\n    for (var key in data) {\n      newData[key] = _deconstructPacket(data[key], buffers);\n    }\n    return newData;\n  }\n  return data;\n}\n\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @api public\n */\n\nexports.reconstructPacket = function(packet, buffers) {\n  packet.data = _reconstructPacket(packet.data, buffers);\n  packet.attachments = undefined; // no longer useful\n  return packet;\n};\n\nfunction _reconstructPacket(data, buffers) {\n  if (!data) return data;\n\n  if (data && data._placeholder) {\n    return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n  } else if (isArray(data)) {\n    for (var i = 0; i < data.length; i++) {\n      data[i] = _reconstructPacket(data[i], buffers);\n    }\n  } else if (typeof data === 'object') {\n    for (var key in data) {\n      data[key] = _reconstructPacket(data[key], buffers);\n    }\n  }\n\n  return data;\n}\n\n/**\n * Asynchronously removes Blobs or Files from data via\n * FileReader's readAsArrayBuffer method. Used before encoding\n * data as msgpack. Calls callback with the blobless data.\n *\n * @param {Object} data\n * @param {Function} callback\n * @api private\n */\n\nexports.removeBlobs = function(data, callback) {\n  function _removeBlobs(obj, curKey, containingObject) {\n    if (!obj) return obj;\n\n    // convert any blob\n    if ((withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File)) {\n      pendingBlobs++;\n\n      // async filereader\n      var fileReader = new FileReader();\n      fileReader.onload = function() { // this.result == arraybuffer\n        if (containingObject) {\n          containingObject[curKey] = this.result;\n        }\n        else {\n          bloblessData = this.result;\n        }\n\n        // if nothing pending its callback time\n        if(! --pendingBlobs) {\n          callback(bloblessData);\n        }\n      };\n\n      fileReader.readAsArrayBuffer(obj); // blob -> arraybuffer\n    } else if (isArray(obj)) { // handle array\n      for (var i = 0; i < obj.length; i++) {\n        _removeBlobs(obj[i], i, obj);\n      }\n    } else if (typeof obj === 'object' && !isBuf(obj)) { // and object\n      for (var key in obj) {\n        _removeBlobs(obj[key], key, obj);\n      }\n    }\n  }\n\n  var pendingBlobs = 0;\n  var bloblessData = data;\n  _removeBlobs(bloblessData);\n  if (!pendingBlobs) {\n    callback(bloblessData);\n  }\n};\n","\n/**\n * Module dependencies.\n */\n\nvar debug = require('debug')('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar binary = require('./binary');\nvar isArray = require('isarray');\nvar isBuf = require('./is-buffer');\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = 4;\n\n/**\n * Packet types.\n *\n * @api public\n */\n\nexports.types = [\n  'CONNECT',\n  'DISCONNECT',\n  'EVENT',\n  'ACK',\n  'ERROR',\n  'BINARY_EVENT',\n  'BINARY_ACK'\n];\n\n/**\n * Packet type `connect`.\n *\n * @api public\n */\n\nexports.CONNECT = 0;\n\n/**\n * Packet type `disconnect`.\n *\n * @api public\n */\n\nexports.DISCONNECT = 1;\n\n/**\n * Packet type `event`.\n *\n * @api public\n */\n\nexports.EVENT = 2;\n\n/**\n * Packet type `ack`.\n *\n * @api public\n */\n\nexports.ACK = 3;\n\n/**\n * Packet type `error`.\n *\n * @api public\n */\n\nexports.ERROR = 4;\n\n/**\n * Packet type 'binary event'\n *\n * @api public\n */\n\nexports.BINARY_EVENT = 5;\n\n/**\n * Packet type `binary ack`. For acks with binary arguments.\n *\n * @api public\n */\n\nexports.BINARY_ACK = 6;\n\n/**\n * Encoder constructor.\n *\n * @api public\n */\n\nexports.Encoder = Encoder;\n\n/**\n * Decoder constructor.\n *\n * @api public\n */\n\nexports.Decoder = Decoder;\n\n/**\n * A socket.io Encoder instance\n *\n * @api public\n */\n\nfunction Encoder() {}\n\nvar ERROR_PACKET = exports.ERROR + '\"encode error\"';\n\n/**\n * Encode a packet as a single string if non-binary, or as a\n * buffer sequence, depending on packet type.\n *\n * @param {Object} obj - packet object\n * @param {Function} callback - function to handle encodings (likely engine.write)\n * @return Calls callback with Array of encodings\n * @api public\n */\n\nEncoder.prototype.encode = function(obj, callback){\n  debug('encoding packet %j', obj);\n\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    encodeAsBinary(obj, callback);\n  } else {\n    var encoding = encodeAsString(obj);\n    callback([encoding]);\n  }\n};\n\n/**\n * Encode packet as string.\n *\n * @param {Object} packet\n * @return {String} encoded\n * @api private\n */\n\nfunction encodeAsString(obj) {\n\n  // first is type\n  var str = '' + obj.type;\n\n  // attachments if we have them\n  if (exports.BINARY_EVENT === obj.type || exports.BINARY_ACK === obj.type) {\n    str += obj.attachments + '-';\n  }\n\n  // if we have a namespace other than `/`\n  // we append it followed by a comma `,`\n  if (obj.nsp && '/' !== obj.nsp) {\n    str += obj.nsp + ',';\n  }\n\n  // immediately followed by the id\n  if (null != obj.id) {\n    str += obj.id;\n  }\n\n  // json data\n  if (null != obj.data) {\n    var payload = tryStringify(obj.data);\n    if (payload !== false) {\n      str += payload;\n    } else {\n      return ERROR_PACKET;\n    }\n  }\n\n  debug('encoded %j as %s', obj, str);\n  return str;\n}\n\nfunction tryStringify(str) {\n  try {\n    return JSON.stringify(str);\n  } catch(e){\n    return false;\n  }\n}\n\n/**\n * Encode packet as 'buffer sequence' by removing blobs, and\n * deconstructing packet into object with placeholders and\n * a list of buffers.\n *\n * @param {Object} packet\n * @return {Buffer} encoded\n * @api private\n */\n\nfunction encodeAsBinary(obj, callback) {\n\n  function writeEncoding(bloblessData) {\n    var deconstruction = binary.deconstructPacket(bloblessData);\n    var pack = encodeAsString(deconstruction.packet);\n    var buffers = deconstruction.buffers;\n\n    buffers.unshift(pack); // add packet info to beginning of data list\n    callback(buffers); // write all the buffers\n  }\n\n  binary.removeBlobs(obj, writeEncoding);\n}\n\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n * @api public\n */\n\nfunction Decoder() {\n  this.reconstructor = null;\n}\n\n/**\n * Mix in `Emitter` with Decoder.\n */\n\nEmitter(Decoder.prototype);\n\n/**\n * Decodes an encoded packet string into packet JSON.\n *\n * @param {String} obj - encoded packet\n * @return {Object} packet\n * @api public\n */\n\nDecoder.prototype.add = function(obj) {\n  var packet;\n  if (typeof obj === 'string') {\n    packet = decodeString(obj);\n    if (exports.BINARY_EVENT === packet.type || exports.BINARY_ACK === packet.type) { // binary packet's json\n      this.reconstructor = new BinaryReconstructor(packet);\n\n      // no attachments, labeled binary but no binary data to follow\n      if (this.reconstructor.reconPack.attachments === 0) {\n        this.emit('decoded', packet);\n      }\n    } else { // non-binary full packet\n      this.emit('decoded', packet);\n    }\n  } else if (isBuf(obj) || obj.base64) { // raw binary data\n    if (!this.reconstructor) {\n      throw new Error('got binary data when not reconstructing a packet');\n    } else {\n      packet = this.reconstructor.takeBinaryData(obj);\n      if (packet) { // received final buffer\n        this.reconstructor = null;\n        this.emit('decoded', packet);\n      }\n    }\n  } else {\n    throw new Error('Unknown type: ' + obj);\n  }\n};\n\n/**\n * Decode a packet String (JSON data)\n *\n * @param {String} str\n * @return {Object} packet\n * @api private\n */\n\nfunction decodeString(str) {\n  var i = 0;\n  // look up type\n  var p = {\n    type: Number(str.charAt(0))\n  };\n\n  if (null == exports.types[p.type]) {\n    return error('unknown packet type ' + p.type);\n  }\n\n  // look up attachments if type binary\n  if (exports.BINARY_EVENT === p.type || exports.BINARY_ACK === p.type) {\n    var buf = '';\n    while (str.charAt(++i) !== '-') {\n      buf += str.charAt(i);\n      if (i == str.length) break;\n    }\n    if (buf != Number(buf) || str.charAt(i) !== '-') {\n      throw new Error('Illegal attachments');\n    }\n    p.attachments = Number(buf);\n  }\n\n  // look up namespace (if any)\n  if ('/' === str.charAt(i + 1)) {\n    p.nsp = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (',' === c) break;\n      p.nsp += c;\n      if (i === str.length) break;\n    }\n  } else {\n    p.nsp = '/';\n  }\n\n  // look up id\n  var next = str.charAt(i + 1);\n  if ('' !== next && Number(next) == next) {\n    p.id = '';\n    while (++i) {\n      var c = str.charAt(i);\n      if (null == c || Number(c) != c) {\n        --i;\n        break;\n      }\n      p.id += str.charAt(i);\n      if (i === str.length) break;\n    }\n    p.id = Number(p.id);\n  }\n\n  // look up json data\n  if (str.charAt(++i)) {\n    var payload = tryParse(str.substr(i));\n    var isPayloadValid = payload !== false && (p.type === exports.ERROR || isArray(payload));\n    if (isPayloadValid) {\n      p.data = payload;\n    } else {\n      return error('invalid payload');\n    }\n  }\n\n  debug('decoded %s as %j', str, p);\n  return p;\n}\n\nfunction tryParse(str) {\n  try {\n    return JSON.parse(str);\n  } catch(e){\n    return false;\n  }\n}\n\n/**\n * Deallocates a parser's resources\n *\n * @api public\n */\n\nDecoder.prototype.destroy = function() {\n  if (this.reconstructor) {\n    this.reconstructor.finishedReconstruction();\n  }\n};\n\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n * @api private\n */\n\nfunction BinaryReconstructor(packet) {\n  this.reconPack = packet;\n  this.buffers = [];\n}\n\n/**\n * Method to be called when binary data received from connection\n * after a BINARY_EVENT packet.\n *\n * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n * @return {null | Object} returns null if more binary data is expected or\n *   a reconstructed packet object if all buffers have been received.\n * @api private\n */\n\nBinaryReconstructor.prototype.takeBinaryData = function(binData) {\n  this.buffers.push(binData);\n  if (this.buffers.length === this.reconPack.attachments) { // done with buffer list\n    var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n    this.finishedReconstruction();\n    return packet;\n  }\n  return null;\n};\n\n/**\n * Cleans up binary packet reconstruction variables.\n *\n * @api private\n */\n\nBinaryReconstructor.prototype.finishedReconstruction = function() {\n  this.reconPack = null;\n  this.buffers = [];\n};\n\nfunction error(msg) {\n  return {\n    type: exports.ERROR,\n    data: 'parser error: ' + msg\n  };\n}\n","\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n","module.exports = (function () {\n  if (typeof self !== 'undefined') {\n    return self;\n  } else if (typeof window !== 'undefined') {\n    return window;\n  } else {\n    return Function('return this')(); // eslint-disable-line no-new-func\n  }\n})();\n","// browser shim for xmlhttprequest module\n\nvar hasCORS = require('has-cors');\nvar globalThis = require('./globalThis');\n\nmodule.exports = function (opts) {\n  var xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  var xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  var enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if ('undefined' !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) { }\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if ('undefined' !== typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) { }\n\n  if (!xdomain) {\n    try {\n      return new globalThis[['Active'].concat('Object').join('X')]('Microsoft.XMLHTTP');\n    } catch (e) { }\n  }\n};\n","\n/**\n * Gets the keys for an object.\n *\n * @return {Array} keys\n * @api private\n */\n\nmodule.exports = Object.keys || function keys (obj){\n  var arr = [];\n  var has = Object.prototype.hasOwnProperty;\n\n  for (var i in obj) {\n    if (has.call(obj, i)) {\n      arr.push(i);\n    }\n  }\n  return arr;\n};\n","/* global Blob File */\n\n/*\n * Module requirements.\n */\n\nvar isArray = require('isarray');\n\nvar toString = Object.prototype.toString;\nvar withNativeBlob = typeof Blob === 'function' ||\n                        typeof Blob !== 'undefined' && toString.call(Blob) === '[object BlobConstructor]';\nvar withNativeFile = typeof File === 'function' ||\n                        typeof File !== 'undefined' && toString.call(File) === '[object FileConstructor]';\n\n/**\n * Module exports.\n */\n\nmodule.exports = hasBinary;\n\n/**\n * Checks for binary data.\n *\n * Supports Buffer, ArrayBuffer, Blob and File.\n *\n * @param {Object} anything\n * @api public\n */\n\nfunction hasBinary (obj) {\n  if (!obj || typeof obj !== 'object') {\n    return false;\n  }\n\n  if (isArray(obj)) {\n    for (var i = 0, l = obj.length; i < l; i++) {\n      if (hasBinary(obj[i])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  if ((typeof Buffer === 'function' && Buffer.isBuffer && Buffer.isBuffer(obj)) ||\n    (typeof ArrayBuffer === 'function' && obj instanceof ArrayBuffer) ||\n    (withNativeBlob && obj instanceof Blob) ||\n    (withNativeFile && obj instanceof File)\n  ) {\n    return true;\n  }\n\n  // see: https://github.com/Automattic/has-binary/pull/4\n  if (obj.toJSON && typeof obj.toJSON === 'function' && arguments.length === 1) {\n    return hasBinary(obj.toJSON(), true);\n  }\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n      return true;\n    }\n  }\n\n  return false;\n}\n","/**\n * An abstraction for slicing an arraybuffer even when\n * ArrayBuffer.prototype.slice is not supported\n *\n * @api public\n */\n\nmodule.exports = function(arraybuffer, start, end) {\n  var bytes = arraybuffer.byteLength;\n  start = start || 0;\n  end = end || bytes;\n\n  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\n  if (start < 0) { start += bytes; }\n  if (end < 0) { end += bytes; }\n  if (end > bytes) { end = bytes; }\n\n  if (start >= bytes || start >= end || bytes === 0) {\n    return new ArrayBuffer(0);\n  }\n\n  var abv = new Uint8Array(arraybuffer);\n  var result = new Uint8Array(end - start);\n  for (var i = start, ii = 0; i < end; i++, ii++) {\n    result[ii] = abv[i];\n  }\n  return result.buffer;\n};\n","module.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n","/*! https://mths.be/utf8js v2.1.2 by @mathias */\n\nvar stringFromCharCode = String.fromCharCode;\n\n// Taken from https://mths.be/punycode\nfunction ucs2decode(string) {\n\tvar output = [];\n\tvar counter = 0;\n\tvar length = string.length;\n\tvar value;\n\tvar extra;\n\twhile (counter < length) {\n\t\tvalue = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// high surrogate, and there is a next character\n\t\t\textra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n// Taken from https://mths.be/punycode\nfunction ucs2encode(array) {\n\tvar length = array.length;\n\tvar index = -1;\n\tvar value;\n\tvar output = '';\n\twhile (++index < length) {\n\t\tvalue = array[index];\n\t\tif (value > 0xFFFF) {\n\t\t\tvalue -= 0x10000;\n\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t}\n\t\toutput += stringFromCharCode(value);\n\t}\n\treturn output;\n}\n\nfunction checkScalarValue(codePoint, strict) {\n\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\tif (strict) {\n\t\t\tthrow Error(\n\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t' is not a scalar value'\n\t\t\t);\n\t\t}\n\t\treturn false;\n\t}\n\treturn true;\n}\n/*--------------------------------------------------------------------------*/\n\nfunction createByte(codePoint, shift) {\n\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n}\n\nfunction encodeCodePoint(codePoint, strict) {\n\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\treturn stringFromCharCode(codePoint);\n\t}\n\tvar symbol = '';\n\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t}\n\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\tif (!checkScalarValue(codePoint, strict)) {\n\t\t\tcodePoint = 0xFFFD;\n\t\t}\n\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\tsymbol += createByte(codePoint, 6);\n\t}\n\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\tsymbol += createByte(codePoint, 12);\n\t\tsymbol += createByte(codePoint, 6);\n\t}\n\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\treturn symbol;\n}\n\nfunction utf8encode(string, opts) {\n\topts = opts || {};\n\tvar strict = false !== opts.strict;\n\n\tvar codePoints = ucs2decode(string);\n\tvar length = codePoints.length;\n\tvar index = -1;\n\tvar codePoint;\n\tvar byteString = '';\n\twhile (++index < length) {\n\t\tcodePoint = codePoints[index];\n\t\tbyteString += encodeCodePoint(codePoint, strict);\n\t}\n\treturn byteString;\n}\n\n/*--------------------------------------------------------------------------*/\n\nfunction readContinuationByte() {\n\tif (byteIndex >= byteCount) {\n\t\tthrow Error('Invalid byte index');\n\t}\n\n\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\tbyteIndex++;\n\n\tif ((continuationByte & 0xC0) == 0x80) {\n\t\treturn continuationByte & 0x3F;\n\t}\n\n\t// If we end up here, it’s not a continuation byte\n\tthrow Error('Invalid continuation byte');\n}\n\nfunction decodeSymbol(strict) {\n\tvar byte1;\n\tvar byte2;\n\tvar byte3;\n\tvar byte4;\n\tvar codePoint;\n\n\tif (byteIndex > byteCount) {\n\t\tthrow Error('Invalid byte index');\n\t}\n\n\tif (byteIndex == byteCount) {\n\t\treturn false;\n\t}\n\n\t// Read first byte\n\tbyte1 = byteArray[byteIndex] & 0xFF;\n\tbyteIndex++;\n\n\t// 1-byte sequence (no continuation bytes)\n\tif ((byte1 & 0x80) == 0) {\n\t\treturn byte1;\n\t}\n\n\t// 2-byte sequence\n\tif ((byte1 & 0xE0) == 0xC0) {\n\t\tbyte2 = readContinuationByte();\n\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\tif (codePoint >= 0x80) {\n\t\t\treturn codePoint;\n\t\t} else {\n\t\t\tthrow Error('Invalid continuation byte');\n\t\t}\n\t}\n\n\t// 3-byte sequence (may include unpaired surrogates)\n\tif ((byte1 & 0xF0) == 0xE0) {\n\t\tbyte2 = readContinuationByte();\n\t\tbyte3 = readContinuationByte();\n\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\tif (codePoint >= 0x0800) {\n\t\t\treturn checkScalarValue(codePoint, strict) ? codePoint : 0xFFFD;\n\t\t} else {\n\t\t\tthrow Error('Invalid continuation byte');\n\t\t}\n\t}\n\n\t// 4-byte sequence\n\tif ((byte1 & 0xF8) == 0xF0) {\n\t\tbyte2 = readContinuationByte();\n\t\tbyte3 = readContinuationByte();\n\t\tbyte4 = readContinuationByte();\n\t\tcodePoint = ((byte1 & 0x07) << 0x12) | (byte2 << 0x0C) |\n\t\t\t(byte3 << 0x06) | byte4;\n\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\treturn codePoint;\n\t\t}\n\t}\n\n\tthrow Error('Invalid UTF-8 detected');\n}\n\nvar byteArray;\nvar byteCount;\nvar byteIndex;\nfunction utf8decode(byteString, opts) {\n\topts = opts || {};\n\tvar strict = false !== opts.strict;\n\n\tbyteArray = ucs2decode(byteString);\n\tbyteCount = byteArray.length;\n\tbyteIndex = 0;\n\tvar codePoints = [];\n\tvar tmp;\n\twhile ((tmp = decodeSymbol(strict)) !== false) {\n\t\tcodePoints.push(tmp);\n\t}\n\treturn ucs2encode(codePoints);\n}\n\nmodule.exports = {\n\tversion: '2.1.2',\n\tencode: utf8encode,\n\tdecode: utf8decode\n};\n","/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(chars){\n  \"use strict\";\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = chars.indexOf(base64[i]);\n      encoded2 = chars.indexOf(base64[i+1]);\n      encoded3 = chars.indexOf(base64[i+2]);\n      encoded4 = chars.indexOf(base64[i+3]);\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\");\n","/**\r\n * Create a blob builder even when vendor prefixes exist\r\n */\r\n\r\nvar BlobBuilder = typeof BlobBuilder !== 'undefined' ? BlobBuilder :\r\n  typeof WebKitBlobBuilder !== 'undefined' ? WebKitBlobBuilder :\r\n  typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder :\r\n  typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : \r\n  false;\r\n\r\n/**\r\n * Check if Blob constructor is supported\r\n */\r\n\r\nvar blobSupported = (function() {\r\n  try {\r\n    var a = new Blob(['hi']);\r\n    return a.size === 2;\r\n  } catch(e) {\r\n    return false;\r\n  }\r\n})();\r\n\r\n/**\r\n * Check if Blob constructor supports ArrayBufferViews\r\n * Fails in Safari 6, so we need to map to ArrayBuffers there.\r\n */\r\n\r\nvar blobSupportsArrayBufferView = blobSupported && (function() {\r\n  try {\r\n    var b = new Blob([new Uint8Array([1,2])]);\r\n    return b.size === 2;\r\n  } catch(e) {\r\n    return false;\r\n  }\r\n})();\r\n\r\n/**\r\n * Check if BlobBuilder is supported\r\n */\r\n\r\nvar blobBuilderSupported = BlobBuilder\r\n  && BlobBuilder.prototype.append\r\n  && BlobBuilder.prototype.getBlob;\r\n\r\n/**\r\n * Helper function that maps ArrayBufferViews to ArrayBuffers\r\n * Used by BlobBuilder constructor and old browsers that didn't\r\n * support it in the Blob constructor.\r\n */\r\n\r\nfunction mapArrayBufferViews(ary) {\r\n  return ary.map(function(chunk) {\r\n    if (chunk.buffer instanceof ArrayBuffer) {\r\n      var buf = chunk.buffer;\r\n\r\n      // if this is a subarray, make a copy so we only\r\n      // include the subarray region from the underlying buffer\r\n      if (chunk.byteLength !== buf.byteLength) {\r\n        var copy = new Uint8Array(chunk.byteLength);\r\n        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\r\n        buf = copy.buffer;\r\n      }\r\n\r\n      return buf;\r\n    }\r\n\r\n    return chunk;\r\n  });\r\n}\r\n\r\nfunction BlobBuilderConstructor(ary, options) {\r\n  options = options || {};\r\n\r\n  var bb = new BlobBuilder();\r\n  mapArrayBufferViews(ary).forEach(function(part) {\r\n    bb.append(part);\r\n  });\r\n\r\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\r\n};\r\n\r\nfunction BlobConstructor(ary, options) {\r\n  return new Blob(mapArrayBufferViews(ary), options || {});\r\n};\r\n\r\nif (typeof Blob !== 'undefined') {\r\n  BlobBuilderConstructor.prototype = Blob.prototype;\r\n  BlobConstructor.prototype = Blob.prototype;\r\n}\r\n\r\nmodule.exports = (function() {\r\n  if (blobSupported) {\r\n    return blobSupportsArrayBufferView ? Blob : BlobConstructor;\r\n  } else if (blobBuilderSupported) {\r\n    return BlobBuilderConstructor;\r\n  } else {\r\n    return undefined;\r\n  }\r\n})();\r\n","/**\n * Module dependencies.\n */\n\nvar keys = require('./keys');\nvar hasBinary = require('has-binary2');\nvar sliceBuffer = require('arraybuffer.slice');\nvar after = require('after');\nvar utf8 = require('./utf8');\n\nvar base64encoder;\nif (typeof ArrayBuffer !== 'undefined') {\n  base64encoder = require('base64-arraybuffer');\n}\n\n/**\n * Check if we are running an android browser. That requires us to use\n * ArrayBuffer with polling transports...\n *\n * http://ghinda.net/jpeg-blob-ajax-android/\n */\n\nvar isAndroid = typeof navigator !== 'undefined' && /Android/i.test(navigator.userAgent);\n\n/**\n * Check if we are running in PhantomJS.\n * Uploading a Blob with PhantomJS does not work correctly, as reported here:\n * https://github.com/ariya/phantomjs/issues/11395\n * @type boolean\n */\nvar isPhantomJS = typeof navigator !== 'undefined' && /PhantomJS/i.test(navigator.userAgent);\n\n/**\n * When true, avoids using Blobs to encode payloads.\n * @type boolean\n */\nvar dontSendBlobs = isAndroid || isPhantomJS;\n\n/**\n * Current protocol version.\n */\n\nexports.protocol = 3;\n\n/**\n * Packet types.\n */\n\nvar packets = exports.packets = {\n    open:     0    // non-ws\n  , close:    1    // non-ws\n  , ping:     2\n  , pong:     3\n  , message:  4\n  , upgrade:  5\n  , noop:     6\n};\n\nvar packetslist = keys(packets);\n\n/**\n * Premade error packet.\n */\n\nvar err = { type: 'error', data: 'parser error' };\n\n/**\n * Create a blob api even for blob builder when vendor prefixes exist\n */\n\nvar Blob = require('blob');\n\n/**\n * Encodes a packet.\n *\n *     <packet type id> [ <data> ]\n *\n * Example:\n *\n *     5hello world\n *     3\n *     4\n *\n * Binary is encoded in an identical principle\n *\n * @api private\n */\n\nexports.encodePacket = function (packet, supportsBinary, utf8encode, callback) {\n  if (typeof supportsBinary === 'function') {\n    callback = supportsBinary;\n    supportsBinary = false;\n  }\n\n  if (typeof utf8encode === 'function') {\n    callback = utf8encode;\n    utf8encode = null;\n  }\n\n  var data = (packet.data === undefined)\n    ? undefined\n    : packet.data.buffer || packet.data;\n\n  if (typeof ArrayBuffer !== 'undefined' && data instanceof ArrayBuffer) {\n    return encodeArrayBuffer(packet, supportsBinary, callback);\n  } else if (typeof Blob !== 'undefined' && data instanceof Blob) {\n    return encodeBlob(packet, supportsBinary, callback);\n  }\n\n  // might be an object with { base64: true, data: dataAsBase64String }\n  if (data && data.base64) {\n    return encodeBase64Object(packet, callback);\n  }\n\n  // Sending data as a utf-8 string\n  var encoded = packets[packet.type];\n\n  // data fragment is optional\n  if (undefined !== packet.data) {\n    encoded += utf8encode ? utf8.encode(String(packet.data), { strict: false }) : String(packet.data);\n  }\n\n  return callback('' + encoded);\n\n};\n\nfunction encodeBase64Object(packet, callback) {\n  // packet data is an object { base64: true, data: dataAsBase64String }\n  var message = 'b' + exports.packets[packet.type] + packet.data.data;\n  return callback(message);\n}\n\n/**\n * Encode packet helpers for binary types\n */\n\nfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var data = packet.data;\n  var contentArray = new Uint8Array(data);\n  var resultBuffer = new Uint8Array(1 + data.byteLength);\n\n  resultBuffer[0] = packets[packet.type];\n  for (var i = 0; i < contentArray.length; i++) {\n    resultBuffer[i+1] = contentArray[i];\n  }\n\n  return callback(resultBuffer.buffer);\n}\n\nfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  var fr = new FileReader();\n  fr.onload = function() {\n    exports.encodePacket({ type: packet.type, data: fr.result }, supportsBinary, true, callback);\n  };\n  return fr.readAsArrayBuffer(packet.data);\n}\n\nfunction encodeBlob(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n\n  if (dontSendBlobs) {\n    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n  }\n\n  var length = new Uint8Array(1);\n  length[0] = packets[packet.type];\n  var blob = new Blob([length.buffer, packet.data]);\n\n  return callback(blob);\n}\n\n/**\n * Encodes a packet with binary data in a base64 string\n *\n * @param {Object} packet, has `type` and `data`\n * @return {String} base64 encoded message\n */\n\nexports.encodeBase64Packet = function(packet, callback) {\n  var message = 'b' + exports.packets[packet.type];\n  if (typeof Blob !== 'undefined' && packet.data instanceof Blob) {\n    var fr = new FileReader();\n    fr.onload = function() {\n      var b64 = fr.result.split(',')[1];\n      callback(message + b64);\n    };\n    return fr.readAsDataURL(packet.data);\n  }\n\n  var b64data;\n  try {\n    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n  } catch (e) {\n    // iPhone Safari doesn't let you apply with typed arrays\n    var typed = new Uint8Array(packet.data);\n    var basic = new Array(typed.length);\n    for (var i = 0; i < typed.length; i++) {\n      basic[i] = typed[i];\n    }\n    b64data = String.fromCharCode.apply(null, basic);\n  }\n  message += btoa(b64data);\n  return callback(message);\n};\n\n/**\n * Decodes a packet. Changes format to Blob if requested.\n *\n * @return {Object} with `type` and `data` (if any)\n * @api private\n */\n\nexports.decodePacket = function (data, binaryType, utf8decode) {\n  if (data === undefined) {\n    return err;\n  }\n  // String data\n  if (typeof data === 'string') {\n    if (data.charAt(0) === 'b') {\n      return exports.decodeBase64Packet(data.substr(1), binaryType);\n    }\n\n    if (utf8decode) {\n      data = tryDecode(data);\n      if (data === false) {\n        return err;\n      }\n    }\n    var type = data.charAt(0);\n\n    if (Number(type) != type || !packetslist[type]) {\n      return err;\n    }\n\n    if (data.length > 1) {\n      return { type: packetslist[type], data: data.substring(1) };\n    } else {\n      return { type: packetslist[type] };\n    }\n  }\n\n  var asArray = new Uint8Array(data);\n  var type = asArray[0];\n  var rest = sliceBuffer(data, 1);\n  if (Blob && binaryType === 'blob') {\n    rest = new Blob([rest]);\n  }\n  return { type: packetslist[type], data: rest };\n};\n\nfunction tryDecode(data) {\n  try {\n    data = utf8.decode(data, { strict: false });\n  } catch (e) {\n    return false;\n  }\n  return data;\n}\n\n/**\n * Decodes a packet encoded in a base64 string\n *\n * @param {String} base64 encoded message\n * @return {Object} with `type` and `data` (if any)\n */\n\nexports.decodeBase64Packet = function(msg, binaryType) {\n  var type = packetslist[msg.charAt(0)];\n  if (!base64encoder) {\n    return { type: type, data: { base64: true, data: msg.substr(1) } };\n  }\n\n  var data = base64encoder.decode(msg.substr(1));\n\n  if (binaryType === 'blob' && Blob) {\n    data = new Blob([data]);\n  }\n\n  return { type: type, data: data };\n};\n\n/**\n * Encodes multiple messages (payload).\n *\n *     <length>:data\n *\n * Example:\n *\n *     11:hello world2:hi\n *\n * If any contents are binary, they will be encoded as base64 strings. Base64\n * encoded strings are marked with a b before the length specifier\n *\n * @param {Array} packets\n * @api private\n */\n\nexports.encodePayload = function (packets, supportsBinary, callback) {\n  if (typeof supportsBinary === 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n\n  var isBinary = hasBinary(packets);\n\n  if (supportsBinary && isBinary) {\n    if (Blob && !dontSendBlobs) {\n      return exports.encodePayloadAsBlob(packets, callback);\n    }\n\n    return exports.encodePayloadAsArrayBuffer(packets, callback);\n  }\n\n  if (!packets.length) {\n    return callback('0:');\n  }\n\n  function setLengthHeader(message) {\n    return message.length + ':' + message;\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, !isBinary ? false : supportsBinary, false, function(message) {\n      doneCallback(null, setLengthHeader(message));\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(results.join(''));\n  });\n};\n\n/**\n * Async array map using after\n */\n\nfunction map(ary, each, done) {\n  var result = new Array(ary.length);\n  var next = after(ary.length, done);\n\n  var eachWithIndex = function(i, el, cb) {\n    each(el, function(error, msg) {\n      result[i] = msg;\n      cb(error, result);\n    });\n  };\n\n  for (var i = 0; i < ary.length; i++) {\n    eachWithIndex(i, ary[i], next);\n  }\n}\n\n/*\n * Decodes data when a payload is maybe expected. Possible binary contents are\n * decoded from their base64 representation\n *\n * @param {String} data, callback method\n * @api public\n */\n\nexports.decodePayload = function (data, binaryType, callback) {\n  if (typeof data !== 'string') {\n    return exports.decodePayloadAsBinary(data, binaryType, callback);\n  }\n\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var packet;\n  if (data === '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n  var length = '', n, msg;\n\n  for (var i = 0, l = data.length; i < l; i++) {\n    var chr = data.charAt(i);\n\n    if (chr !== ':') {\n      length += chr;\n      continue;\n    }\n\n    if (length === '' || (length != (n = Number(length)))) {\n      // parser error - ignoring payload\n      return callback(err, 0, 1);\n    }\n\n    msg = data.substr(i + 1, n);\n\n    if (length != msg.length) {\n      // parser error - ignoring payload\n      return callback(err, 0, 1);\n    }\n\n    if (msg.length) {\n      packet = exports.decodePacket(msg, binaryType, false);\n\n      if (err.type === packet.type && err.data === packet.data) {\n        // parser error in individual packet - ignoring payload\n        return callback(err, 0, 1);\n      }\n\n      var ret = callback(packet, i + n, l);\n      if (false === ret) return;\n    }\n\n    // advance cursor\n    i += n;\n    length = '';\n  }\n\n  if (length !== '') {\n    // parser error - ignoring payload\n    return callback(err, 0, 1);\n  }\n\n};\n\n/**\n * Encodes multiple messages (payload) as binary.\n *\n * <1 = binary, 0 = string><number from 0-9><number from 0-9>[...]<number\n * 255><data>\n *\n * Example:\n * 1 3 255 1 2 3, if the binary contents are interpreted as 8 bit integers\n *\n * @param {Array} packets\n * @return {ArrayBuffer} encoded payload\n * @api private\n */\n\nexports.encodePayloadAsArrayBuffer = function(packets, callback) {\n  if (!packets.length) {\n    return callback(new ArrayBuffer(0));\n  }\n\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(data) {\n      return doneCallback(null, data);\n    });\n  }\n\n  map(packets, encodeOne, function(err, encodedPackets) {\n    var totalLength = encodedPackets.reduce(function(acc, p) {\n      var len;\n      if (typeof p === 'string'){\n        len = p.length;\n      } else {\n        len = p.byteLength;\n      }\n      return acc + len.toString().length + len + 2; // string/binary identifier + separator = 2\n    }, 0);\n\n    var resultArray = new Uint8Array(totalLength);\n\n    var bufferIndex = 0;\n    encodedPackets.forEach(function(p) {\n      var isString = typeof p === 'string';\n      var ab = p;\n      if (isString) {\n        var view = new Uint8Array(p.length);\n        for (var i = 0; i < p.length; i++) {\n          view[i] = p.charCodeAt(i);\n        }\n        ab = view.buffer;\n      }\n\n      if (isString) { // not true binary\n        resultArray[bufferIndex++] = 0;\n      } else { // true binary\n        resultArray[bufferIndex++] = 1;\n      }\n\n      var lenStr = ab.byteLength.toString();\n      for (var i = 0; i < lenStr.length; i++) {\n        resultArray[bufferIndex++] = parseInt(lenStr[i]);\n      }\n      resultArray[bufferIndex++] = 255;\n\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < view.length; i++) {\n        resultArray[bufferIndex++] = view[i];\n      }\n    });\n\n    return callback(resultArray.buffer);\n  });\n};\n\n/**\n * Encode as Blob\n */\n\nexports.encodePayloadAsBlob = function(packets, callback) {\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(encoded) {\n      var binaryIdentifier = new Uint8Array(1);\n      binaryIdentifier[0] = 1;\n      if (typeof encoded === 'string') {\n        var view = new Uint8Array(encoded.length);\n        for (var i = 0; i < encoded.length; i++) {\n          view[i] = encoded.charCodeAt(i);\n        }\n        encoded = view.buffer;\n        binaryIdentifier[0] = 0;\n      }\n\n      var len = (encoded instanceof ArrayBuffer)\n        ? encoded.byteLength\n        : encoded.size;\n\n      var lenStr = len.toString();\n      var lengthAry = new Uint8Array(lenStr.length + 1);\n      for (var i = 0; i < lenStr.length; i++) {\n        lengthAry[i] = parseInt(lenStr[i]);\n      }\n      lengthAry[lenStr.length] = 255;\n\n      if (Blob) {\n        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n        doneCallback(null, blob);\n      }\n    });\n  }\n\n  map(packets, encodeOne, function(err, results) {\n    return callback(new Blob(results));\n  });\n};\n\n/*\n * Decodes data when a payload is maybe expected. Strings are decoded by\n * interpreting each byte as a key code for entries marked to start with 0. See\n * description of encodePayloadAsBinary\n *\n * @param {ArrayBuffer} data, callback method\n * @api public\n */\n\nexports.decodePayloadAsBinary = function (data, binaryType, callback) {\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n\n  var bufferTail = data;\n  var buffers = [];\n\n  while (bufferTail.byteLength > 0) {\n    var tailArray = new Uint8Array(bufferTail);\n    var isString = tailArray[0] === 0;\n    var msgLength = '';\n\n    for (var i = 1; ; i++) {\n      if (tailArray[i] === 255) break;\n\n      // 310 = char length of Number.MAX_VALUE\n      if (msgLength.length > 310) {\n        return callback(err, 0, 1);\n      }\n\n      msgLength += tailArray[i];\n    }\n\n    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n    msgLength = parseInt(msgLength);\n\n    var msg = sliceBuffer(bufferTail, 0, msgLength);\n    if (isString) {\n      try {\n        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\n      } catch (e) {\n        // iPhone Safari doesn't let you apply to typed arrays\n        var typed = new Uint8Array(msg);\n        msg = '';\n        for (var i = 0; i < typed.length; i++) {\n          msg += String.fromCharCode(typed[i]);\n        }\n      }\n    }\n\n    buffers.push(msg);\n    bufferTail = sliceBuffer(bufferTail, msgLength);\n  }\n\n  var total = buffers.length;\n  buffers.forEach(function(buffer, i) {\n    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n  });\n};\n","/**\n * Module dependencies.\n */\n\nvar parser = require('engine.io-parser');\nvar Emitter = require('component-emitter');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Transport;\n\n/**\n * Transport abstract constructor.\n *\n * @param {Object} options.\n * @api private\n */\n\nfunction Transport (opts) {\n  this.path = opts.path;\n  this.hostname = opts.hostname;\n  this.port = opts.port;\n  this.secure = opts.secure;\n  this.query = opts.query;\n  this.timestampParam = opts.timestampParam;\n  this.timestampRequests = opts.timestampRequests;\n  this.readyState = '';\n  this.agent = opts.agent || false;\n  this.socket = opts.socket;\n  this.enablesXDR = opts.enablesXDR;\n  this.withCredentials = opts.withCredentials;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n  this.forceNode = opts.forceNode;\n\n  // results of ReactNative environment detection\n  this.isReactNative = opts.isReactNative;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n  this.localAddress = opts.localAddress;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Transport.prototype);\n\n/**\n * Emits an error.\n *\n * @param {String} str\n * @return {Transport} for chaining\n * @api public\n */\n\nTransport.prototype.onError = function (msg, desc) {\n  var err = new Error(msg);\n  err.type = 'TransportError';\n  err.description = desc;\n  this.emit('error', err);\n  return this;\n};\n\n/**\n * Opens the transport.\n *\n * @api public\n */\n\nTransport.prototype.open = function () {\n  if ('closed' === this.readyState || '' === this.readyState) {\n    this.readyState = 'opening';\n    this.doOpen();\n  }\n\n  return this;\n};\n\n/**\n * Closes the transport.\n *\n * @api private\n */\n\nTransport.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.doClose();\n    this.onClose();\n  }\n\n  return this;\n};\n\n/**\n * Sends multiple packets.\n *\n * @param {Array} packets\n * @api private\n */\n\nTransport.prototype.send = function (packets) {\n  if ('open' === this.readyState) {\n    this.write(packets);\n  } else {\n    throw new Error('Transport not open');\n  }\n};\n\n/**\n * Called upon open\n *\n * @api private\n */\n\nTransport.prototype.onOpen = function () {\n  this.readyState = 'open';\n  this.writable = true;\n  this.emit('open');\n};\n\n/**\n * Called with data.\n *\n * @param {String} data\n * @api private\n */\n\nTransport.prototype.onData = function (data) {\n  var packet = parser.decodePacket(data, this.socket.binaryType);\n  this.onPacket(packet);\n};\n\n/**\n * Called with a decoded packet.\n */\n\nTransport.prototype.onPacket = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon close.\n *\n * @api private\n */\n\nTransport.prototype.onClose = function () {\n  this.readyState = 'closed';\n  this.emit('close');\n};\n","/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n","'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n","\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * Active `debug` instances.\n */\nexports.instances = [];\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  var prevTime;\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n  debug.destroy = destroy;\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  exports.instances.push(debug);\n\n  return debug;\n}\n\nfunction destroy () {\n  var index = exports.instances.indexOf(this);\n  if (index !== -1) {\n    exports.instances.splice(index, 1);\n    return true;\n  } else {\n    return false;\n  }\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var i;\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n\n  for (i = 0; i < exports.instances.length; i++) {\n    var instance = exports.instances[i];\n    instance.enabled = exports.enabled(instance.namespace);\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  if (name[name.length - 1] === '*') {\n    return true;\n  }\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  '#0000CC', '#0000FF', '#0033CC', '#0033FF', '#0066CC', '#0066FF', '#0099CC',\n  '#0099FF', '#00CC00', '#00CC33', '#00CC66', '#00CC99', '#00CCCC', '#00CCFF',\n  '#3300CC', '#3300FF', '#3333CC', '#3333FF', '#3366CC', '#3366FF', '#3399CC',\n  '#3399FF', '#33CC00', '#33CC33', '#33CC66', '#33CC99', '#33CCCC', '#33CCFF',\n  '#6600CC', '#6600FF', '#6633CC', '#6633FF', '#66CC00', '#66CC33', '#9900CC',\n  '#9900FF', '#9933CC', '#9933FF', '#99CC00', '#99CC33', '#CC0000', '#CC0033',\n  '#CC0066', '#CC0099', '#CC00CC', '#CC00FF', '#CC3300', '#CC3333', '#CC3366',\n  '#CC3399', '#CC33CC', '#CC33FF', '#CC6600', '#CC6633', '#CC9900', '#CC9933',\n  '#CCCC00', '#CCCC33', '#FF0000', '#FF0033', '#FF0066', '#FF0099', '#FF00CC',\n  '#FF00FF', '#FF3300', '#FF3333', '#FF3366', '#FF3399', '#FF33CC', '#FF33FF',\n  '#FF6600', '#FF6633', '#FF9900', '#FF9933', '#FFCC00', '#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Internet Explorer and Edge do not support colors.\n  if (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n    return false;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parseqs = require('parseqs');\nvar parser = require('engine.io-parser');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:polling');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Polling;\n\n/**\n * Is XHR2 supported?\n */\n\nvar hasXHR2 = (function () {\n  var XMLHttpRequest = require('xmlhttprequest-ssl');\n  var xhr = new XMLHttpRequest({ xdomain: false });\n  return null != xhr.responseType;\n})();\n\n/**\n * Polling interface.\n *\n * @param {Object} opts\n * @api private\n */\n\nfunction Polling (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (!hasXHR2 || forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(Polling, Transport);\n\n/**\n * Transport name.\n */\n\nPolling.prototype.name = 'polling';\n\n/**\n * Opens the socket (triggers polling). We write a PING message to determine\n * when the transport is open.\n *\n * @api private\n */\n\nPolling.prototype.doOpen = function () {\n  this.poll();\n};\n\n/**\n * Pauses polling.\n *\n * @param {Function} callback upon buffers are flushed and transport is paused\n * @api private\n */\n\nPolling.prototype.pause = function (onPause) {\n  var self = this;\n\n  this.readyState = 'pausing';\n\n  function pause () {\n    debug('paused');\n    self.readyState = 'paused';\n    onPause();\n  }\n\n  if (this.polling || !this.writable) {\n    var total = 0;\n\n    if (this.polling) {\n      debug('we are currently polling - waiting to pause');\n      total++;\n      this.once('pollComplete', function () {\n        debug('pre-pause polling complete');\n        --total || pause();\n      });\n    }\n\n    if (!this.writable) {\n      debug('we are currently writing - waiting to pause');\n      total++;\n      this.once('drain', function () {\n        debug('pre-pause writing complete');\n        --total || pause();\n      });\n    }\n  } else {\n    pause();\n  }\n};\n\n/**\n * Starts polling cycle.\n *\n * @api public\n */\n\nPolling.prototype.poll = function () {\n  debug('polling');\n  this.polling = true;\n  this.doPoll();\n  this.emit('poll');\n};\n\n/**\n * Overloads onData to detect payloads.\n *\n * @api private\n */\n\nPolling.prototype.onData = function (data) {\n  var self = this;\n  debug('polling got data %s', data);\n  var callback = function (packet, index, total) {\n    // if its the first message we consider the transport open\n    if ('opening' === self.readyState) {\n      self.onOpen();\n    }\n\n    // if its a close packet, we close the ongoing requests\n    if ('close' === packet.type) {\n      self.onClose();\n      return false;\n    }\n\n    // otherwise bypass onData and handle the message\n    self.onPacket(packet);\n  };\n\n  // decode payload\n  parser.decodePayload(data, this.socket.binaryType, callback);\n\n  // if an event did not trigger closing\n  if ('closed' !== this.readyState) {\n    // if we got data we're not polling\n    this.polling = false;\n    this.emit('pollComplete');\n\n    if ('open' === this.readyState) {\n      this.poll();\n    } else {\n      debug('ignoring poll - transport state \"%s\"', this.readyState);\n    }\n  }\n};\n\n/**\n * For polling, send a close packet.\n *\n * @api private\n */\n\nPolling.prototype.doClose = function () {\n  var self = this;\n\n  function close () {\n    debug('writing close packet');\n    self.write([{ type: 'close' }]);\n  }\n\n  if ('open' === this.readyState) {\n    debug('transport open - closing');\n    close();\n  } else {\n    // in case we're trying to close while\n    // handshaking is in progress (GH-164)\n    debug('transport not open - deferring close');\n    this.once('open', close);\n  }\n};\n\n/**\n * Writes a packets payload.\n *\n * @param {Array} data packets\n * @param {Function} drain callback\n * @api private\n */\n\nPolling.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n  var callbackfn = function () {\n    self.writable = true;\n    self.emit('drain');\n  };\n\n  parser.encodePayload(packets, this.supportsBinary, function (data) {\n    self.doWrite(data, callbackfn);\n  });\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nPolling.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'https' : 'http';\n  var port = '';\n\n  // cache busting is forced\n  if (false !== this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  if (!this.supportsBinary && !query.sid) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // avoid port if default for schema\n  if (this.port && (('https' === schema && Number(this.port) !== 443) ||\n     ('http' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n","/* global attachEvent */\n\n/**\n * Module requirements.\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar Polling = require('./polling');\nvar Emitter = require('component-emitter');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:polling-xhr');\nvar globalThis = require('../globalThis');\n\n/**\n * Module exports.\n */\n\nmodule.exports = XHR;\nmodule.exports.Request = Request;\n\n/**\n * Empty function\n */\n\nfunction empty () {}\n\n/**\n * XHR Polling constructor.\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction XHR (opts) {\n  Polling.call(this, opts);\n  this.requestTimeout = opts.requestTimeout;\n  this.extraHeaders = opts.extraHeaders;\n\n  if (typeof location !== 'undefined') {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    this.xd = (typeof location !== 'undefined' && opts.hostname !== location.hostname) ||\n      port !== opts.port;\n    this.xs = opts.secure !== isSSL;\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(XHR, Polling);\n\n/**\n * XHR supports binary\n */\n\nXHR.prototype.supportsBinary = true;\n\n/**\n * Creates a request.\n *\n * @param {String} method\n * @api private\n */\n\nXHR.prototype.request = function (opts) {\n  opts = opts || {};\n  opts.uri = this.uri();\n  opts.xd = this.xd;\n  opts.xs = this.xs;\n  opts.agent = this.agent || false;\n  opts.supportsBinary = this.supportsBinary;\n  opts.enablesXDR = this.enablesXDR;\n  opts.withCredentials = this.withCredentials;\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  opts.requestTimeout = this.requestTimeout;\n\n  // other options for Node.js client\n  opts.extraHeaders = this.extraHeaders;\n\n  return new Request(opts);\n};\n\n/**\n * Sends data.\n *\n * @param {String} data to send.\n * @param {Function} called upon flush.\n * @api private\n */\n\nXHR.prototype.doWrite = function (data, fn) {\n  var isBinary = typeof data !== 'string' && data !== undefined;\n  var req = this.request({ method: 'POST', data: data, isBinary: isBinary });\n  var self = this;\n  req.on('success', fn);\n  req.on('error', function (err) {\n    self.onError('xhr post error', err);\n  });\n  this.sendXhr = req;\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nXHR.prototype.doPoll = function () {\n  debug('xhr poll');\n  var req = this.request();\n  var self = this;\n  req.on('data', function (data) {\n    self.onData(data);\n  });\n  req.on('error', function (err) {\n    self.onError('xhr poll error', err);\n  });\n  this.pollXhr = req;\n};\n\n/**\n * Request constructor\n *\n * @param {Object} options\n * @api public\n */\n\nfunction Request (opts) {\n  this.method = opts.method || 'GET';\n  this.uri = opts.uri;\n  this.xd = !!opts.xd;\n  this.xs = !!opts.xs;\n  this.async = false !== opts.async;\n  this.data = undefined !== opts.data ? opts.data : null;\n  this.agent = opts.agent;\n  this.isBinary = opts.isBinary;\n  this.supportsBinary = opts.supportsBinary;\n  this.enablesXDR = opts.enablesXDR;\n  this.withCredentials = opts.withCredentials;\n  this.requestTimeout = opts.requestTimeout;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n\n  this.create();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Creates the XHR object and sends the request.\n *\n * @api private\n */\n\nRequest.prototype.create = function () {\n  var opts = { agent: this.agent, xdomain: this.xd, xscheme: this.xs, enablesXDR: this.enablesXDR };\n\n  // SSL options for Node.js client\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n\n  var xhr = this.xhr = new XMLHttpRequest(opts);\n  var self = this;\n\n  try {\n    debug('xhr open %s: %s', this.method, this.uri);\n    xhr.open(this.method, this.uri, this.async);\n    try {\n      if (this.extraHeaders) {\n        xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n        for (var i in this.extraHeaders) {\n          if (this.extraHeaders.hasOwnProperty(i)) {\n            xhr.setRequestHeader(i, this.extraHeaders[i]);\n          }\n        }\n      }\n    } catch (e) {}\n\n    if ('POST' === this.method) {\n      try {\n        if (this.isBinary) {\n          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n        } else {\n          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        }\n      } catch (e) {}\n    }\n\n    try {\n      xhr.setRequestHeader('Accept', '*/*');\n    } catch (e) {}\n\n    // ie6 check\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = this.withCredentials;\n    }\n\n    if (this.requestTimeout) {\n      xhr.timeout = this.requestTimeout;\n    }\n\n    if (this.hasXDR()) {\n      xhr.onload = function () {\n        self.onLoad();\n      };\n      xhr.onerror = function () {\n        self.onError(xhr.responseText);\n      };\n    } else {\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 2) {\n          try {\n            var contentType = xhr.getResponseHeader('Content-Type');\n            if (self.supportsBinary && contentType === 'application/octet-stream' || contentType === 'application/octet-stream; charset=UTF-8') {\n              xhr.responseType = 'arraybuffer';\n            }\n          } catch (e) {}\n        }\n        if (4 !== xhr.readyState) return;\n        if (200 === xhr.status || 1223 === xhr.status) {\n          self.onLoad();\n        } else {\n          // make sure the `error` event handler that's user-set\n          // does not throw in the same tick and gets caught here\n          setTimeout(function () {\n            self.onError(typeof xhr.status === 'number' ? xhr.status : 0);\n          }, 0);\n        }\n      };\n    }\n\n    debug('xhr data %s', this.data);\n    xhr.send(this.data);\n  } catch (e) {\n    // Need to defer since .create() is called directly fhrom the constructor\n    // and thus the 'error' event can only be only bound *after* this exception\n    // occurs.  Therefore, also, we cannot throw here at all.\n    setTimeout(function () {\n      self.onError(e);\n    }, 0);\n    return;\n  }\n\n  if (typeof document !== 'undefined') {\n    this.index = Request.requestsCount++;\n    Request.requests[this.index] = this;\n  }\n};\n\n/**\n * Called upon successful response.\n *\n * @api private\n */\n\nRequest.prototype.onSuccess = function () {\n  this.emit('success');\n  this.cleanup();\n};\n\n/**\n * Called if we have data.\n *\n * @api private\n */\n\nRequest.prototype.onData = function (data) {\n  this.emit('data', data);\n  this.onSuccess();\n};\n\n/**\n * Called upon error.\n *\n * @api private\n */\n\nRequest.prototype.onError = function (err) {\n  this.emit('error', err);\n  this.cleanup(true);\n};\n\n/**\n * Cleans up house.\n *\n * @api private\n */\n\nRequest.prototype.cleanup = function (fromError) {\n  if ('undefined' === typeof this.xhr || null === this.xhr) {\n    return;\n  }\n  // xmlhttprequest\n  if (this.hasXDR()) {\n    this.xhr.onload = this.xhr.onerror = empty;\n  } else {\n    this.xhr.onreadystatechange = empty;\n  }\n\n  if (fromError) {\n    try {\n      this.xhr.abort();\n    } catch (e) {}\n  }\n\n  if (typeof document !== 'undefined') {\n    delete Request.requests[this.index];\n  }\n\n  this.xhr = null;\n};\n\n/**\n * Called upon load.\n *\n * @api private\n */\n\nRequest.prototype.onLoad = function () {\n  var data;\n  try {\n    var contentType;\n    try {\n      contentType = this.xhr.getResponseHeader('Content-Type');\n    } catch (e) {}\n    if (contentType === 'application/octet-stream' || contentType === 'application/octet-stream; charset=UTF-8') {\n      data = this.xhr.response || this.xhr.responseText;\n    } else {\n      data = this.xhr.responseText;\n    }\n  } catch (e) {\n    this.onError(e);\n  }\n  if (null != data) {\n    this.onData(data);\n  }\n};\n\n/**\n * Check if it has XDomainRequest.\n *\n * @api private\n */\n\nRequest.prototype.hasXDR = function () {\n  return typeof XDomainRequest !== 'undefined' && !this.xs && this.enablesXDR;\n};\n\n/**\n * Aborts the request.\n *\n * @api public\n */\n\nRequest.prototype.abort = function () {\n  this.cleanup();\n};\n\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\n\nRequest.requestsCount = 0;\nRequest.requests = {};\n\nif (typeof document !== 'undefined') {\n  if (typeof attachEvent === 'function') {\n    attachEvent('onunload', unloadHandler);\n  } else if (typeof addEventListener === 'function') {\n    var terminationEvent = 'onpagehide' in globalThis ? 'pagehide' : 'unload';\n    addEventListener(terminationEvent, unloadHandler, false);\n  }\n}\n\nfunction unloadHandler () {\n  for (var i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n","/**\n * Module requirements.\n */\n\nvar Polling = require('./polling');\nvar inherit = require('component-inherit');\nvar globalThis = require('../globalThis');\n\n/**\n * Module exports.\n */\n\nmodule.exports = JSONPPolling;\n\n/**\n * Cached regular expressions.\n */\n\nvar rNewline = /\\n/g;\nvar rEscapedNewline = /\\\\n/g;\n\n/**\n * Global JSONP callbacks.\n */\n\nvar callbacks;\n\n/**\n * Noop.\n */\n\nfunction empty () { }\n\n/**\n * JSONP Polling constructor.\n *\n * @param {Object} opts.\n * @api public\n */\n\nfunction JSONPPolling (opts) {\n  Polling.call(this, opts);\n\n  this.query = this.query || {};\n\n  // define global callbacks array if not present\n  // we do this here (lazily) to avoid unneeded global pollution\n  if (!callbacks) {\n    // we need to consider multiple engines in the same page\n    callbacks = globalThis.___eio = (globalThis.___eio || []);\n  }\n\n  // callback identifier\n  this.index = callbacks.length;\n\n  // add callback to jsonp global\n  var self = this;\n  callbacks.push(function (msg) {\n    self.onData(msg);\n  });\n\n  // append to query string\n  this.query.j = this.index;\n\n  // prevent spurious errors from being emitted when the window is unloaded\n  if (typeof addEventListener === 'function') {\n    addEventListener('beforeunload', function () {\n      if (self.script) self.script.onerror = empty;\n    }, false);\n  }\n}\n\n/**\n * Inherits from Polling.\n */\n\ninherit(JSONPPolling, Polling);\n\n/*\n * JSONP only supports binary as base64 encoded strings\n */\n\nJSONPPolling.prototype.supportsBinary = false;\n\n/**\n * Closes the socket.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doClose = function () {\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  if (this.form) {\n    this.form.parentNode.removeChild(this.form);\n    this.form = null;\n    this.iframe = null;\n  }\n\n  Polling.prototype.doClose.call(this);\n};\n\n/**\n * Starts a poll cycle.\n *\n * @api private\n */\n\nJSONPPolling.prototype.doPoll = function () {\n  var self = this;\n  var script = document.createElement('script');\n\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n\n  script.async = true;\n  script.src = this.uri();\n  script.onerror = function (e) {\n    self.onError('jsonp poll error', e);\n  };\n\n  var insertAt = document.getElementsByTagName('script')[0];\n  if (insertAt) {\n    insertAt.parentNode.insertBefore(script, insertAt);\n  } else {\n    (document.head || document.body).appendChild(script);\n  }\n  this.script = script;\n\n  var isUAgecko = 'undefined' !== typeof navigator && /gecko/i.test(navigator.userAgent);\n\n  if (isUAgecko) {\n    setTimeout(function () {\n      var iframe = document.createElement('iframe');\n      document.body.appendChild(iframe);\n      document.body.removeChild(iframe);\n    }, 100);\n  }\n};\n\n/**\n * Writes with a hidden iframe.\n *\n * @param {String} data to send\n * @param {Function} called upon flush.\n * @api private\n */\n\nJSONPPolling.prototype.doWrite = function (data, fn) {\n  var self = this;\n\n  if (!this.form) {\n    var form = document.createElement('form');\n    var area = document.createElement('textarea');\n    var id = this.iframeId = 'eio_iframe_' + this.index;\n    var iframe;\n\n    form.className = 'socketio';\n    form.style.position = 'absolute';\n    form.style.top = '-1000px';\n    form.style.left = '-1000px';\n    form.target = id;\n    form.method = 'POST';\n    form.setAttribute('accept-charset', 'utf-8');\n    area.name = 'd';\n    form.appendChild(area);\n    document.body.appendChild(form);\n\n    this.form = form;\n    this.area = area;\n  }\n\n  this.form.action = this.uri();\n\n  function complete () {\n    initIframe();\n    fn();\n  }\n\n  function initIframe () {\n    if (self.iframe) {\n      try {\n        self.form.removeChild(self.iframe);\n      } catch (e) {\n        self.onError('jsonp polling iframe removal error', e);\n      }\n    }\n\n    try {\n      // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n      var html = '<iframe src=\"javascript:0\" name=\"' + self.iframeId + '\">';\n      iframe = document.createElement(html);\n    } catch (e) {\n      iframe = document.createElement('iframe');\n      iframe.name = self.iframeId;\n      iframe.src = 'javascript:0';\n    }\n\n    iframe.id = self.iframeId;\n\n    self.form.appendChild(iframe);\n    self.iframe = iframe;\n  }\n\n  initIframe();\n\n  // escape \\n to prevent it from being converted into \\r\\n by some UAs\n  // double escaping is required for escaped new lines because unescaping of new lines can be done safely on server-side\n  data = data.replace(rEscapedNewline, '\\\\\\n');\n  this.area.value = data.replace(rNewline, '\\\\n');\n\n  try {\n    this.form.submit();\n  } catch (e) {}\n\n  if (this.iframe.attachEvent) {\n    this.iframe.onreadystatechange = function () {\n      if (self.iframe.readyState === 'complete') {\n        complete();\n      }\n    };\n  } else {\n    this.iframe.onload = complete;\n  }\n};\n","/**\n * Module dependencies.\n */\n\nvar Transport = require('../transport');\nvar parser = require('engine.io-parser');\nvar parseqs = require('parseqs');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:websocket');\n\nvar BrowserWebSocket, NodeWebSocket;\n\nif (typeof WebSocket !== 'undefined') {\n  BrowserWebSocket = WebSocket;\n} else if (typeof self !== 'undefined') {\n  BrowserWebSocket = self.WebSocket || self.MozWebSocket;\n}\n\nif (typeof window === 'undefined') {\n  try {\n    NodeWebSocket = require('ws');\n  } catch (e) { }\n}\n\n/**\n * Get either the `WebSocket` or `MozWebSocket` globals\n * in the browser or try to resolve WebSocket-compatible\n * interface exposed by `ws` for Node-like environment.\n */\n\nvar WebSocketImpl = BrowserWebSocket || NodeWebSocket;\n\n/**\n * Module exports.\n */\n\nmodule.exports = WS;\n\n/**\n * WebSocket transport constructor.\n *\n * @api {Object} connection options\n * @api public\n */\n\nfunction WS (opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (forceBase64) {\n    this.supportsBinary = false;\n  }\n  this.perMessageDeflate = opts.perMessageDeflate;\n  this.usingBrowserWebSocket = BrowserWebSocket && !opts.forceNode;\n  this.protocols = opts.protocols;\n  if (!this.usingBrowserWebSocket) {\n    WebSocketImpl = NodeWebSocket;\n  }\n  Transport.call(this, opts);\n}\n\n/**\n * Inherits from Transport.\n */\n\ninherit(WS, Transport);\n\n/**\n * Transport name.\n *\n * @api public\n */\n\nWS.prototype.name = 'websocket';\n\n/*\n * WebSockets support binary\n */\n\nWS.prototype.supportsBinary = true;\n\n/**\n * Opens socket.\n *\n * @api private\n */\n\nWS.prototype.doOpen = function () {\n  if (!this.check()) {\n    // let probe timeout\n    return;\n  }\n\n  var uri = this.uri();\n  var protocols = this.protocols;\n\n  var opts = {};\n\n  if (!this.isReactNative) {\n    opts.agent = this.agent;\n    opts.perMessageDeflate = this.perMessageDeflate;\n\n    // SSL options for Node.js client\n    opts.pfx = this.pfx;\n    opts.key = this.key;\n    opts.passphrase = this.passphrase;\n    opts.cert = this.cert;\n    opts.ca = this.ca;\n    opts.ciphers = this.ciphers;\n    opts.rejectUnauthorized = this.rejectUnauthorized;\n  }\n\n  if (this.extraHeaders) {\n    opts.headers = this.extraHeaders;\n  }\n  if (this.localAddress) {\n    opts.localAddress = this.localAddress;\n  }\n\n  try {\n    this.ws =\n      this.usingBrowserWebSocket && !this.isReactNative\n        ? protocols\n          ? new WebSocketImpl(uri, protocols)\n          : new WebSocketImpl(uri)\n        : new WebSocketImpl(uri, protocols, opts);\n  } catch (err) {\n    return this.emit('error', err);\n  }\n\n  if (this.ws.binaryType === undefined) {\n    this.supportsBinary = false;\n  }\n\n  if (this.ws.supports && this.ws.supports.binary) {\n    this.supportsBinary = true;\n    this.ws.binaryType = 'nodebuffer';\n  } else {\n    this.ws.binaryType = 'arraybuffer';\n  }\n\n  this.addEventListeners();\n};\n\n/**\n * Adds event listeners to the socket\n *\n * @api private\n */\n\nWS.prototype.addEventListeners = function () {\n  var self = this;\n\n  this.ws.onopen = function () {\n    self.onOpen();\n  };\n  this.ws.onclose = function () {\n    self.onClose();\n  };\n  this.ws.onmessage = function (ev) {\n    self.onData(ev.data);\n  };\n  this.ws.onerror = function (e) {\n    self.onError('websocket error', e);\n  };\n};\n\n/**\n * Writes data to socket.\n *\n * @param {Array} array of packets.\n * @api private\n */\n\nWS.prototype.write = function (packets) {\n  var self = this;\n  this.writable = false;\n\n  // encodePacket efficient as it uses WS framing\n  // no need for encodePayload\n  var total = packets.length;\n  for (var i = 0, l = total; i < l; i++) {\n    (function (packet) {\n      parser.encodePacket(packet, self.supportsBinary, function (data) {\n        if (!self.usingBrowserWebSocket) {\n          // always create a new object (GH-437)\n          var opts = {};\n          if (packet.options) {\n            opts.compress = packet.options.compress;\n          }\n\n          if (self.perMessageDeflate) {\n            var len = 'string' === typeof data ? Buffer.byteLength(data) : data.length;\n            if (len < self.perMessageDeflate.threshold) {\n              opts.compress = false;\n            }\n          }\n        }\n\n        // Sometimes the websocket has already been closed but the browser didn't\n        // have a chance of informing us about it yet, in that case send will\n        // throw an error\n        try {\n          if (self.usingBrowserWebSocket) {\n            // TypeError is thrown when passing the second argument on Safari\n            self.ws.send(data);\n          } else {\n            self.ws.send(data, opts);\n          }\n        } catch (e) {\n          debug('websocket closed before onclose event');\n        }\n\n        --total || done();\n      });\n    })(packets[i]);\n  }\n\n  function done () {\n    self.emit('flush');\n\n    // fake drain\n    // defer to next tick to allow Socket to clear writeBuffer\n    setTimeout(function () {\n      self.writable = true;\n      self.emit('drain');\n    }, 0);\n  }\n};\n\n/**\n * Called upon close\n *\n * @api private\n */\n\nWS.prototype.onClose = function () {\n  Transport.prototype.onClose.call(this);\n};\n\n/**\n * Closes socket.\n *\n * @api private\n */\n\nWS.prototype.doClose = function () {\n  if (typeof this.ws !== 'undefined') {\n    this.ws.close();\n  }\n};\n\n/**\n * Generates uri for connection.\n *\n * @api private\n */\n\nWS.prototype.uri = function () {\n  var query = this.query || {};\n  var schema = this.secure ? 'wss' : 'ws';\n  var port = '';\n\n  // avoid port if default for schema\n  if (this.port && (('wss' === schema && Number(this.port) !== 443) ||\n    ('ws' === schema && Number(this.port) !== 80))) {\n    port = ':' + this.port;\n  }\n\n  // append timestamp to URI\n  if (this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n\n  // communicate binary support capabilities\n  if (!this.supportsBinary) {\n    query.b64 = 1;\n  }\n\n  query = parseqs.encode(query);\n\n  // prepend ? to query\n  if (query.length) {\n    query = '?' + query;\n  }\n\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n\n/**\n * Feature detection for WebSocket.\n *\n * @return {Boolean} whether this transport is available.\n * @api public\n */\n\nWS.prototype.check = function () {\n  return !!WebSocketImpl && !('__initialize' in WebSocketImpl && this.name === WS.prototype.name);\n};\n","/**\n * Module dependencies\n */\n\nvar XMLHttpRequest = require('xmlhttprequest-ssl');\nvar XHR = require('./polling-xhr');\nvar JSONP = require('./polling-jsonp');\nvar websocket = require('./websocket');\n\n/**\n * Export transports.\n */\n\nexports.polling = polling;\nexports.websocket = websocket;\n\n/**\n * Polling transport polymorphic constructor.\n * Decides on xhr vs jsonp based on feature detection.\n *\n * @api private\n */\n\nfunction polling (opts) {\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n\n  if (typeof location !== 'undefined') {\n    var isSSL = 'https:' === location.protocol;\n    var port = location.port;\n\n    // some user agents have empty `location.port`\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n\n    xd = opts.hostname !== location.hostname || port !== opts.port;\n    xs = opts.secure !== isSSL;\n  }\n\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp) throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n","\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};","/**\n * Module dependencies.\n */\n\nvar transports = require('./transports/index');\nvar Emitter = require('component-emitter');\nvar debug = require('debug')('engine.io-client:socket');\nvar index = require('indexof');\nvar parser = require('engine.io-parser');\nvar parseuri = require('parseuri');\nvar parseqs = require('parseqs');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Socket;\n\n/**\n * Socket constructor.\n *\n * @param {String|Object} uri or options\n * @param {Object} options\n * @api public\n */\n\nfunction Socket (uri, opts) {\n  if (!(this instanceof Socket)) return new Socket(uri, opts);\n\n  opts = opts || {};\n\n  if (uri && 'object' === typeof uri) {\n    opts = uri;\n    uri = null;\n  }\n\n  if (uri) {\n    uri = parseuri(uri);\n    opts.hostname = uri.host;\n    opts.secure = uri.protocol === 'https' || uri.protocol === 'wss';\n    opts.port = uri.port;\n    if (uri.query) opts.query = uri.query;\n  } else if (opts.host) {\n    opts.hostname = parseuri(opts.host).host;\n  }\n\n  this.secure = null != opts.secure ? opts.secure\n    : (typeof location !== 'undefined' && 'https:' === location.protocol);\n\n  if (opts.hostname && !opts.port) {\n    // if no port is specified manually, use the protocol default\n    opts.port = this.secure ? '443' : '80';\n  }\n\n  this.agent = opts.agent || false;\n  this.hostname = opts.hostname ||\n    (typeof location !== 'undefined' ? location.hostname : 'localhost');\n  this.port = opts.port || (typeof location !== 'undefined' && location.port\n      ? location.port\n      : (this.secure ? 443 : 80));\n  this.query = opts.query || {};\n  if ('string' === typeof this.query) this.query = parseqs.decode(this.query);\n  this.upgrade = false !== opts.upgrade;\n  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n  this.forceJSONP = !!opts.forceJSONP;\n  this.jsonp = false !== opts.jsonp;\n  this.forceBase64 = !!opts.forceBase64;\n  this.enablesXDR = !!opts.enablesXDR;\n  this.withCredentials = false !== opts.withCredentials;\n  this.timestampParam = opts.timestampParam || 't';\n  this.timestampRequests = opts.timestampRequests;\n  this.transports = opts.transports || ['polling', 'websocket'];\n  this.transportOptions = opts.transportOptions || {};\n  this.readyState = '';\n  this.writeBuffer = [];\n  this.prevBufferLen = 0;\n  this.policyPort = opts.policyPort || 843;\n  this.rememberUpgrade = opts.rememberUpgrade || false;\n  this.binaryType = null;\n  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n  this.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\n\n  if (true === this.perMessageDeflate) this.perMessageDeflate = {};\n  if (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\n    this.perMessageDeflate.threshold = 1024;\n  }\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx || null;\n  this.key = opts.key || null;\n  this.passphrase = opts.passphrase || null;\n  this.cert = opts.cert || null;\n  this.ca = opts.ca || null;\n  this.ciphers = opts.ciphers || null;\n  this.rejectUnauthorized = opts.rejectUnauthorized === undefined ? true : opts.rejectUnauthorized;\n  this.forceNode = !!opts.forceNode;\n\n  // detect ReactNative environment\n  this.isReactNative = (typeof navigator !== 'undefined' && typeof navigator.product === 'string' && navigator.product.toLowerCase() === 'reactnative');\n\n  // other options for Node.js or ReactNative client\n  if (typeof self === 'undefined' || this.isReactNative) {\n    if (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\n      this.extraHeaders = opts.extraHeaders;\n    }\n\n    if (opts.localAddress) {\n      this.localAddress = opts.localAddress;\n    }\n  }\n\n  // set on handshake\n  this.id = null;\n  this.upgrades = null;\n  this.pingInterval = null;\n  this.pingTimeout = null;\n\n  // set on heartbeat\n  this.pingIntervalTimer = null;\n  this.pingTimeoutTimer = null;\n\n  this.open();\n}\n\nSocket.priorWebsocketSuccess = false;\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nSocket.protocol = parser.protocol; // this is an int\n\n/**\n * Expose deps for legacy compatibility\n * and standalone browser access.\n */\n\nSocket.Socket = Socket;\nSocket.Transport = require('./transport');\nSocket.transports = require('./transports/index');\nSocket.parser = require('engine.io-parser');\n\n/**\n * Creates transport of the given type.\n *\n * @param {String} transport name\n * @return {Transport}\n * @api private\n */\n\nSocket.prototype.createTransport = function (name) {\n  debug('creating transport \"%s\"', name);\n  var query = clone(this.query);\n\n  // append engine.io protocol identifier\n  query.EIO = parser.protocol;\n\n  // transport name\n  query.transport = name;\n\n  // per-transport options\n  var options = this.transportOptions[name] || {};\n\n  // session id if we already have one\n  if (this.id) query.sid = this.id;\n\n  var transport = new transports[name]({\n    query: query,\n    socket: this,\n    agent: options.agent || this.agent,\n    hostname: options.hostname || this.hostname,\n    port: options.port || this.port,\n    secure: options.secure || this.secure,\n    path: options.path || this.path,\n    forceJSONP: options.forceJSONP || this.forceJSONP,\n    jsonp: options.jsonp || this.jsonp,\n    forceBase64: options.forceBase64 || this.forceBase64,\n    enablesXDR: options.enablesXDR || this.enablesXDR,\n    withCredentials: options.withCredentials || this.withCredentials,\n    timestampRequests: options.timestampRequests || this.timestampRequests,\n    timestampParam: options.timestampParam || this.timestampParam,\n    policyPort: options.policyPort || this.policyPort,\n    pfx: options.pfx || this.pfx,\n    key: options.key || this.key,\n    passphrase: options.passphrase || this.passphrase,\n    cert: options.cert || this.cert,\n    ca: options.ca || this.ca,\n    ciphers: options.ciphers || this.ciphers,\n    rejectUnauthorized: options.rejectUnauthorized || this.rejectUnauthorized,\n    perMessageDeflate: options.perMessageDeflate || this.perMessageDeflate,\n    extraHeaders: options.extraHeaders || this.extraHeaders,\n    forceNode: options.forceNode || this.forceNode,\n    localAddress: options.localAddress || this.localAddress,\n    requestTimeout: options.requestTimeout || this.requestTimeout,\n    protocols: options.protocols || void (0),\n    isReactNative: this.isReactNative\n  });\n\n  return transport;\n};\n\nfunction clone (obj) {\n  var o = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\n\n/**\n * Initializes transport to use and starts probe.\n *\n * @api private\n */\nSocket.prototype.open = function () {\n  var transport;\n  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') !== -1) {\n    transport = 'websocket';\n  } else if (0 === this.transports.length) {\n    // Emit error on next tick so it can be listened to\n    var self = this;\n    setTimeout(function () {\n      self.emit('error', 'No transports available');\n    }, 0);\n    return;\n  } else {\n    transport = this.transports[0];\n  }\n  this.readyState = 'opening';\n\n  // Retry with the next transport if the transport is disabled (jsonp: false)\n  try {\n    transport = this.createTransport(transport);\n  } catch (e) {\n    this.transports.shift();\n    this.open();\n    return;\n  }\n\n  transport.open();\n  this.setTransport(transport);\n};\n\n/**\n * Sets the current transport. Disables the existing one (if any).\n *\n * @api private\n */\n\nSocket.prototype.setTransport = function (transport) {\n  debug('setting transport %s', transport.name);\n  var self = this;\n\n  if (this.transport) {\n    debug('clearing existing transport %s', this.transport.name);\n    this.transport.removeAllListeners();\n  }\n\n  // set up transport\n  this.transport = transport;\n\n  // set up transport listeners\n  transport\n  .on('drain', function () {\n    self.onDrain();\n  })\n  .on('packet', function (packet) {\n    self.onPacket(packet);\n  })\n  .on('error', function (e) {\n    self.onError(e);\n  })\n  .on('close', function () {\n    self.onClose('transport close');\n  });\n};\n\n/**\n * Probes a transport.\n *\n * @param {String} transport name\n * @api private\n */\n\nSocket.prototype.probe = function (name) {\n  debug('probing transport \"%s\"', name);\n  var transport = this.createTransport(name, { probe: 1 });\n  var failed = false;\n  var self = this;\n\n  Socket.priorWebsocketSuccess = false;\n\n  function onTransportOpen () {\n    if (self.onlyBinaryUpgrades) {\n      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n      failed = failed || upgradeLosesBinary;\n    }\n    if (failed) return;\n\n    debug('probe transport \"%s\" opened', name);\n    transport.send([{ type: 'ping', data: 'probe' }]);\n    transport.once('packet', function (msg) {\n      if (failed) return;\n      if ('pong' === msg.type && 'probe' === msg.data) {\n        debug('probe transport \"%s\" pong', name);\n        self.upgrading = true;\n        self.emit('upgrading', transport);\n        if (!transport) return;\n        Socket.priorWebsocketSuccess = 'websocket' === transport.name;\n\n        debug('pausing current transport \"%s\"', self.transport.name);\n        self.transport.pause(function () {\n          if (failed) return;\n          if ('closed' === self.readyState) return;\n          debug('changing transport and sending upgrade packet');\n\n          cleanup();\n\n          self.setTransport(transport);\n          transport.send([{ type: 'upgrade' }]);\n          self.emit('upgrade', transport);\n          transport = null;\n          self.upgrading = false;\n          self.flush();\n        });\n      } else {\n        debug('probe transport \"%s\" failed', name);\n        var err = new Error('probe error');\n        err.transport = transport.name;\n        self.emit('upgradeError', err);\n      }\n    });\n  }\n\n  function freezeTransport () {\n    if (failed) return;\n\n    // Any callback called by transport should be ignored since now\n    failed = true;\n\n    cleanup();\n\n    transport.close();\n    transport = null;\n  }\n\n  // Handle any error that happens while probing\n  function onerror (err) {\n    var error = new Error('probe error: ' + err);\n    error.transport = transport.name;\n\n    freezeTransport();\n\n    debug('probe transport \"%s\" failed because of error: %s', name, err);\n\n    self.emit('upgradeError', error);\n  }\n\n  function onTransportClose () {\n    onerror('transport closed');\n  }\n\n  // When the socket is closed while we're probing\n  function onclose () {\n    onerror('socket closed');\n  }\n\n  // When the socket is upgraded while we're probing\n  function onupgrade (to) {\n    if (transport && to.name !== transport.name) {\n      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n      freezeTransport();\n    }\n  }\n\n  // Remove all listeners on the transport and on self\n  function cleanup () {\n    transport.removeListener('open', onTransportOpen);\n    transport.removeListener('error', onerror);\n    transport.removeListener('close', onTransportClose);\n    self.removeListener('close', onclose);\n    self.removeListener('upgrading', onupgrade);\n  }\n\n  transport.once('open', onTransportOpen);\n  transport.once('error', onerror);\n  transport.once('close', onTransportClose);\n\n  this.once('close', onclose);\n  this.once('upgrading', onupgrade);\n\n  transport.open();\n};\n\n/**\n * Called when connection is deemed open.\n *\n * @api public\n */\n\nSocket.prototype.onOpen = function () {\n  debug('socket open');\n  this.readyState = 'open';\n  Socket.priorWebsocketSuccess = 'websocket' === this.transport.name;\n  this.emit('open');\n  this.flush();\n\n  // we check for `readyState` in case an `open`\n  // listener already closed the socket\n  if ('open' === this.readyState && this.upgrade && this.transport.pause) {\n    debug('starting upgrade probes');\n    for (var i = 0, l = this.upgrades.length; i < l; i++) {\n      this.probe(this.upgrades[i]);\n    }\n  }\n};\n\n/**\n * Handles a packet.\n *\n * @api private\n */\n\nSocket.prototype.onPacket = function (packet) {\n  if ('opening' === this.readyState || 'open' === this.readyState ||\n      'closing' === this.readyState) {\n    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n\n    this.emit('packet', packet);\n\n    // Socket is live - any packet counts\n    this.emit('heartbeat');\n\n    switch (packet.type) {\n      case 'open':\n        this.onHandshake(JSON.parse(packet.data));\n        break;\n\n      case 'pong':\n        this.setPing();\n        this.emit('pong');\n        break;\n\n      case 'error':\n        var err = new Error('server error');\n        err.code = packet.data;\n        this.onError(err);\n        break;\n\n      case 'message':\n        this.emit('data', packet.data);\n        this.emit('message', packet.data);\n        break;\n    }\n  } else {\n    debug('packet received with socket readyState \"%s\"', this.readyState);\n  }\n};\n\n/**\n * Called upon handshake completion.\n *\n * @param {Object} handshake obj\n * @api private\n */\n\nSocket.prototype.onHandshake = function (data) {\n  this.emit('handshake', data);\n  this.id = data.sid;\n  this.transport.query.sid = data.sid;\n  this.upgrades = this.filterUpgrades(data.upgrades);\n  this.pingInterval = data.pingInterval;\n  this.pingTimeout = data.pingTimeout;\n  this.onOpen();\n  // In case open handler closes socket\n  if ('closed' === this.readyState) return;\n  this.setPing();\n\n  // Prolong liveness of socket on heartbeat\n  this.removeListener('heartbeat', this.onHeartbeat);\n  this.on('heartbeat', this.onHeartbeat);\n};\n\n/**\n * Resets ping timeout.\n *\n * @api private\n */\n\nSocket.prototype.onHeartbeat = function (timeout) {\n  clearTimeout(this.pingTimeoutTimer);\n  var self = this;\n  self.pingTimeoutTimer = setTimeout(function () {\n    if ('closed' === self.readyState) return;\n    self.onClose('ping timeout');\n  }, timeout || (self.pingInterval + self.pingTimeout));\n};\n\n/**\n * Pings server every `this.pingInterval` and expects response\n * within `this.pingTimeout` or closes connection.\n *\n * @api private\n */\n\nSocket.prototype.setPing = function () {\n  var self = this;\n  clearTimeout(self.pingIntervalTimer);\n  self.pingIntervalTimer = setTimeout(function () {\n    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n    self.ping();\n    self.onHeartbeat(self.pingTimeout);\n  }, self.pingInterval);\n};\n\n/**\n* Sends a ping packet.\n*\n* @api private\n*/\n\nSocket.prototype.ping = function () {\n  var self = this;\n  this.sendPacket('ping', function () {\n    self.emit('ping');\n  });\n};\n\n/**\n * Called on `drain` event\n *\n * @api private\n */\n\nSocket.prototype.onDrain = function () {\n  this.writeBuffer.splice(0, this.prevBufferLen);\n\n  // setting prevBufferLen = 0 is very important\n  // for example, when upgrading, upgrade packet is sent over,\n  // and a nonzero prevBufferLen could cause problems on `drain`\n  this.prevBufferLen = 0;\n\n  if (0 === this.writeBuffer.length) {\n    this.emit('drain');\n  } else {\n    this.flush();\n  }\n};\n\n/**\n * Flush write buffers.\n *\n * @api private\n */\n\nSocket.prototype.flush = function () {\n  if ('closed' !== this.readyState && this.transport.writable &&\n    !this.upgrading && this.writeBuffer.length) {\n    debug('flushing %d packets in socket', this.writeBuffer.length);\n    this.transport.send(this.writeBuffer);\n    // keep track of current length of writeBuffer\n    // splice writeBuffer and callbackBuffer on `drain`\n    this.prevBufferLen = this.writeBuffer.length;\n    this.emit('flush');\n  }\n};\n\n/**\n * Sends a message.\n *\n * @param {String} message.\n * @param {Function} callback function.\n * @param {Object} options.\n * @return {Socket} for chaining.\n * @api public\n */\n\nSocket.prototype.write =\nSocket.prototype.send = function (msg, options, fn) {\n  this.sendPacket('message', msg, options, fn);\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {String} packet type.\n * @param {String} data.\n * @param {Object} options.\n * @param {Function} callback function.\n * @api private\n */\n\nSocket.prototype.sendPacket = function (type, data, options, fn) {\n  if ('function' === typeof data) {\n    fn = data;\n    data = undefined;\n  }\n\n  if ('function' === typeof options) {\n    fn = options;\n    options = null;\n  }\n\n  if ('closing' === this.readyState || 'closed' === this.readyState) {\n    return;\n  }\n\n  options = options || {};\n  options.compress = false !== options.compress;\n\n  var packet = {\n    type: type,\n    data: data,\n    options: options\n  };\n  this.emit('packetCreate', packet);\n  this.writeBuffer.push(packet);\n  if (fn) this.once('flush', fn);\n  this.flush();\n};\n\n/**\n * Closes the connection.\n *\n * @api private\n */\n\nSocket.prototype.close = function () {\n  if ('opening' === this.readyState || 'open' === this.readyState) {\n    this.readyState = 'closing';\n\n    var self = this;\n\n    if (this.writeBuffer.length) {\n      this.once('drain', function () {\n        if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      });\n    } else if (this.upgrading) {\n      waitForUpgrade();\n    } else {\n      close();\n    }\n  }\n\n  function close () {\n    self.onClose('forced close');\n    debug('socket closing - telling transport to close');\n    self.transport.close();\n  }\n\n  function cleanupAndClose () {\n    self.removeListener('upgrade', cleanupAndClose);\n    self.removeListener('upgradeError', cleanupAndClose);\n    close();\n  }\n\n  function waitForUpgrade () {\n    // wait for upgrade to finish since we can't send packets while pausing a transport\n    self.once('upgrade', cleanupAndClose);\n    self.once('upgradeError', cleanupAndClose);\n  }\n\n  return this;\n};\n\n/**\n * Called upon transport error\n *\n * @api private\n */\n\nSocket.prototype.onError = function (err) {\n  debug('socket error %j', err);\n  Socket.priorWebsocketSuccess = false;\n  this.emit('error', err);\n  this.onClose('transport error', err);\n};\n\n/**\n * Called upon transport close.\n *\n * @api private\n */\n\nSocket.prototype.onClose = function (reason, desc) {\n  if ('opening' === this.readyState || 'open' === this.readyState || 'closing' === this.readyState) {\n    debug('socket close with reason: \"%s\"', reason);\n    var self = this;\n\n    // clear timers\n    clearTimeout(this.pingIntervalTimer);\n    clearTimeout(this.pingTimeoutTimer);\n\n    // stop event from firing again for transport\n    this.transport.removeAllListeners('close');\n\n    // ensure transport won't stay open\n    this.transport.close();\n\n    // ignore further transport communication\n    this.transport.removeAllListeners();\n\n    // set ready state\n    this.readyState = 'closed';\n\n    // clear session id\n    this.id = null;\n\n    // emit close event\n    this.emit('close', reason, desc);\n\n    // clean buffers after, so users can still\n    // grab the buffers on `close` event\n    self.writeBuffer = [];\n    self.prevBufferLen = 0;\n  }\n};\n\n/**\n * Filters upgrades, returning only those matching client transports.\n *\n * @param {Array} server upgrades\n * @api private\n *\n */\n\nSocket.prototype.filterUpgrades = function (upgrades) {\n  var filteredUpgrades = [];\n  for (var i = 0, j = upgrades.length; i < j; i++) {\n    if (~index(this.transports, upgrades[i])) filteredUpgrades.push(upgrades[i]);\n  }\n  return filteredUpgrades;\n};\n","\nmodule.exports = require('./socket');\n\n/**\n * Exports parser\n *\n * @api public\n *\n */\nmodule.exports.parser = require('engine.io-parser');\n","module.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n","\n/**\n * Module exports.\n */\n\nmodule.exports = on;\n\n/**\n * Helper for subscriptions.\n *\n * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n * @param {String} event name\n * @param {Function} callback\n * @api public\n */\n\nfunction on (obj, ev, fn) {\n  obj.on(ev, fn);\n  return {\n    destroy: function () {\n      obj.removeListener(ev, fn);\n    }\n  };\n}\n","/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n","\n/**\n * Module dependencies.\n */\n\nvar parser = require('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar toArray = require('to-array');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:socket');\nvar parseqs = require('parseqs');\nvar hasBin = require('has-binary2');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = Socket;\n\n/**\n * Internal events (blacklisted).\n * These events can't be emitted by the user.\n *\n * @api private\n */\n\nvar events = {\n  connect: 1,\n  connect_error: 1,\n  connect_timeout: 1,\n  connecting: 1,\n  disconnect: 1,\n  error: 1,\n  reconnect: 1,\n  reconnect_attempt: 1,\n  reconnect_failed: 1,\n  reconnect_error: 1,\n  reconnecting: 1,\n  ping: 1,\n  pong: 1\n};\n\n/**\n * Shortcut to `Emitter#emit`.\n */\n\nvar emit = Emitter.prototype.emit;\n\n/**\n * `Socket` constructor.\n *\n * @api public\n */\n\nfunction Socket (io, nsp, opts) {\n  this.io = io;\n  this.nsp = nsp;\n  this.json = this; // compat\n  this.ids = 0;\n  this.acks = {};\n  this.receiveBuffer = [];\n  this.sendBuffer = [];\n  this.connected = false;\n  this.disconnected = true;\n  this.flags = {};\n  if (opts && opts.query) {\n    this.query = opts.query;\n  }\n  if (this.io.autoConnect) this.open();\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Socket.prototype);\n\n/**\n * Subscribe to open, close and packet events\n *\n * @api private\n */\n\nSocket.prototype.subEvents = function () {\n  if (this.subs) return;\n\n  var io = this.io;\n  this.subs = [\n    on(io, 'open', bind(this, 'onopen')),\n    on(io, 'packet', bind(this, 'onpacket')),\n    on(io, 'close', bind(this, 'onclose'))\n  ];\n};\n\n/**\n * \"Opens\" the socket.\n *\n * @api public\n */\n\nSocket.prototype.open =\nSocket.prototype.connect = function () {\n  if (this.connected) return this;\n\n  this.subEvents();\n  if (!this.io.reconnecting) this.io.open(); // ensure open\n  if ('open' === this.io.readyState) this.onopen();\n  this.emit('connecting');\n  return this;\n};\n\n/**\n * Sends a `message` event.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.send = function () {\n  var args = toArray(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\n\n/**\n * Override `emit`.\n * If the event is in `events`, it's emitted normally.\n *\n * @param {String} event name\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.emit = function (ev) {\n  if (events.hasOwnProperty(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n\n  var args = toArray(arguments);\n  var packet = {\n    type: (this.flags.binary !== undefined ? this.flags.binary : hasBin(args)) ? parser.BINARY_EVENT : parser.EVENT,\n    data: args\n  };\n\n  packet.options = {};\n  packet.options.compress = !this.flags || false !== this.flags.compress;\n\n  // event ack callback\n  if ('function' === typeof args[args.length - 1]) {\n    debug('emitting packet with ack id %d', this.ids);\n    this.acks[this.ids] = args.pop();\n    packet.id = this.ids++;\n  }\n\n  if (this.connected) {\n    this.packet(packet);\n  } else {\n    this.sendBuffer.push(packet);\n  }\n\n  this.flags = {};\n\n  return this;\n};\n\n/**\n * Sends a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.packet = function (packet) {\n  packet.nsp = this.nsp;\n  this.io.packet(packet);\n};\n\n/**\n * Called upon engine `open`.\n *\n * @api private\n */\n\nSocket.prototype.onopen = function () {\n  debug('transport is open - connecting');\n\n  // write connect packet if necessary\n  if ('/' !== this.nsp) {\n    if (this.query) {\n      var query = typeof this.query === 'object' ? parseqs.encode(this.query) : this.query;\n      debug('sending connect packet with query %s', query);\n      this.packet({type: parser.CONNECT, query: query});\n    } else {\n      this.packet({type: parser.CONNECT});\n    }\n  }\n};\n\n/**\n * Called upon engine `close`.\n *\n * @param {String} reason\n * @api private\n */\n\nSocket.prototype.onclose = function (reason) {\n  debug('close (%s)', reason);\n  this.connected = false;\n  this.disconnected = true;\n  delete this.id;\n  this.emit('disconnect', reason);\n};\n\n/**\n * Called with socket packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onpacket = function (packet) {\n  var sameNamespace = packet.nsp === this.nsp;\n  var rootNamespaceError = packet.type === parser.ERROR && packet.nsp === '/';\n\n  if (!sameNamespace && !rootNamespaceError) return;\n\n  switch (packet.type) {\n    case parser.CONNECT:\n      this.onconnect();\n      break;\n\n    case parser.EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.BINARY_EVENT:\n      this.onevent(packet);\n      break;\n\n    case parser.ACK:\n      this.onack(packet);\n      break;\n\n    case parser.BINARY_ACK:\n      this.onack(packet);\n      break;\n\n    case parser.DISCONNECT:\n      this.ondisconnect();\n      break;\n\n    case parser.ERROR:\n      this.emit('error', packet.data);\n      break;\n  }\n};\n\n/**\n * Called upon a server event.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onevent = function (packet) {\n  var args = packet.data || [];\n  debug('emitting event %j', args);\n\n  if (null != packet.id) {\n    debug('attaching ack callback to event');\n    args.push(this.ack(packet.id));\n  }\n\n  if (this.connected) {\n    emit.apply(this, args);\n  } else {\n    this.receiveBuffer.push(args);\n  }\n};\n\n/**\n * Produces an ack callback to emit with an event.\n *\n * @api private\n */\n\nSocket.prototype.ack = function (id) {\n  var self = this;\n  var sent = false;\n  return function () {\n    // prevent double callbacks\n    if (sent) return;\n    sent = true;\n    var args = toArray(arguments);\n    debug('sending ack %j', args);\n\n    self.packet({\n      type: hasBin(args) ? parser.BINARY_ACK : parser.ACK,\n      id: id,\n      data: args\n    });\n  };\n};\n\n/**\n * Called upon a server acknowlegement.\n *\n * @param {Object} packet\n * @api private\n */\n\nSocket.prototype.onack = function (packet) {\n  var ack = this.acks[packet.id];\n  if ('function' === typeof ack) {\n    debug('calling ack %s with %j', packet.id, packet.data);\n    ack.apply(this, packet.data);\n    delete this.acks[packet.id];\n  } else {\n    debug('bad ack %s', packet.id);\n  }\n};\n\n/**\n * Called upon server connect.\n *\n * @api private\n */\n\nSocket.prototype.onconnect = function () {\n  this.connected = true;\n  this.disconnected = false;\n  this.emit('connect');\n  this.emitBuffered();\n};\n\n/**\n * Emit buffered events (received and emitted).\n *\n * @api private\n */\n\nSocket.prototype.emitBuffered = function () {\n  var i;\n  for (i = 0; i < this.receiveBuffer.length; i++) {\n    emit.apply(this, this.receiveBuffer[i]);\n  }\n  this.receiveBuffer = [];\n\n  for (i = 0; i < this.sendBuffer.length; i++) {\n    this.packet(this.sendBuffer[i]);\n  }\n  this.sendBuffer = [];\n};\n\n/**\n * Called upon server disconnect.\n *\n * @api private\n */\n\nSocket.prototype.ondisconnect = function () {\n  debug('server disconnect (%s)', this.nsp);\n  this.destroy();\n  this.onclose('io server disconnect');\n};\n\n/**\n * Called upon forced client/server side disconnections,\n * this method ensures the manager stops tracking us and\n * that reconnections don't get triggered for this.\n *\n * @api private.\n */\n\nSocket.prototype.destroy = function () {\n  if (this.subs) {\n    // clean subscriptions to avoid reconnections\n    for (var i = 0; i < this.subs.length; i++) {\n      this.subs[i].destroy();\n    }\n    this.subs = null;\n  }\n\n  this.io.destroy(this);\n};\n\n/**\n * Disconnects the socket manually.\n *\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.close =\nSocket.prototype.disconnect = function () {\n  if (this.connected) {\n    debug('performing disconnect (%s)', this.nsp);\n    this.packet({ type: parser.DISCONNECT });\n  }\n\n  // remove socket from pool\n  this.destroy();\n\n  if (this.connected) {\n    // fire events\n    this.onclose('io client disconnect');\n  }\n  return this;\n};\n\n/**\n * Sets the compress flag.\n *\n * @param {Boolean} if `true`, compresses the sending data\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.compress = function (compress) {\n  this.flags.compress = compress;\n  return this;\n};\n\n/**\n * Sets the binary flag\n *\n * @param {Boolean} whether the emitted data contains binary\n * @return {Socket} self\n * @api public\n */\n\nSocket.prototype.binary = function (binary) {\n  this.flags.binary = binary;\n  return this;\n};\n","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n","\n/**\n * Module dependencies.\n */\n\nvar eio = require('engine.io-client');\nvar Socket = require('./socket');\nvar Emitter = require('component-emitter');\nvar parser = require('socket.io-parser');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:manager');\nvar indexOf = require('indexof');\nvar Backoff = require('backo2');\n\n/**\n * IE6+ hasOwnProperty\n */\n\nvar has = Object.prototype.hasOwnProperty;\n\n/**\n * Module exports\n */\n\nmodule.exports = Manager;\n\n/**\n * `Manager` constructor.\n *\n * @param {String} engine instance or engine uri/opts\n * @param {Object} options\n * @api public\n */\n\nfunction Manager (uri, opts) {\n  if (!(this instanceof Manager)) return new Manager(uri, opts);\n  if (uri && ('object' === typeof uri)) {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n\n  opts.path = opts.path || '/socket.io';\n  this.nsps = {};\n  this.subs = [];\n  this.opts = opts;\n  this.reconnection(opts.reconnection !== false);\n  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n  this.randomizationFactor(opts.randomizationFactor || 0.5);\n  this.backoff = new Backoff({\n    min: this.reconnectionDelay(),\n    max: this.reconnectionDelayMax(),\n    jitter: this.randomizationFactor()\n  });\n  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n  this.readyState = 'closed';\n  this.uri = uri;\n  this.connecting = [];\n  this.lastPing = null;\n  this.encoding = false;\n  this.packetBuffer = [];\n  var _parser = opts.parser || parser;\n  this.encoder = new _parser.Encoder();\n  this.decoder = new _parser.Decoder();\n  this.autoConnect = opts.autoConnect !== false;\n  if (this.autoConnect) this.open();\n}\n\n/**\n * Propagate given event to sockets and emit on `this`\n *\n * @api private\n */\n\nManager.prototype.emitAll = function () {\n  this.emit.apply(this, arguments);\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n    }\n  }\n};\n\n/**\n * Update `socket.id` of all sockets\n *\n * @api private\n */\n\nManager.prototype.updateSocketIds = function () {\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].id = this.generateId(nsp);\n    }\n  }\n};\n\n/**\n * generate `socket.id` for the given `nsp`\n *\n * @param {String} nsp\n * @return {String}\n * @api private\n */\n\nManager.prototype.generateId = function (nsp) {\n  return (nsp === '/' ? '' : (nsp + '#')) + this.engine.id;\n};\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Manager.prototype);\n\n/**\n * Sets the `reconnection` config.\n *\n * @param {Boolean} true/false if it should automatically reconnect\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnection = function (v) {\n  if (!arguments.length) return this._reconnection;\n  this._reconnection = !!v;\n  return this;\n};\n\n/**\n * Sets the reconnection attempts config.\n *\n * @param {Number} max reconnection attempts before giving up\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionAttempts = function (v) {\n  if (!arguments.length) return this._reconnectionAttempts;\n  this._reconnectionAttempts = v;\n  return this;\n};\n\n/**\n * Sets the delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelay = function (v) {\n  if (!arguments.length) return this._reconnectionDelay;\n  this._reconnectionDelay = v;\n  this.backoff && this.backoff.setMin(v);\n  return this;\n};\n\nManager.prototype.randomizationFactor = function (v) {\n  if (!arguments.length) return this._randomizationFactor;\n  this._randomizationFactor = v;\n  this.backoff && this.backoff.setJitter(v);\n  return this;\n};\n\n/**\n * Sets the maximum delay between reconnections.\n *\n * @param {Number} delay\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.reconnectionDelayMax = function (v) {\n  if (!arguments.length) return this._reconnectionDelayMax;\n  this._reconnectionDelayMax = v;\n  this.backoff && this.backoff.setMax(v);\n  return this;\n};\n\n/**\n * Sets the connection timeout. `false` to disable\n *\n * @return {Manager} self or value\n * @api public\n */\n\nManager.prototype.timeout = function (v) {\n  if (!arguments.length) return this._timeout;\n  this._timeout = v;\n  return this;\n};\n\n/**\n * Starts trying to reconnect if reconnection is enabled and we have not\n * started reconnecting yet\n *\n * @api private\n */\n\nManager.prototype.maybeReconnectOnOpen = function () {\n  // Only try to reconnect if it's the first time we're connecting\n  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n    // keeps reconnection from firing twice for the same reconnection loop\n    this.reconnect();\n  }\n};\n\n/**\n * Sets the current transport `socket`.\n *\n * @param {Function} optional, callback\n * @return {Manager} self\n * @api public\n */\n\nManager.prototype.open =\nManager.prototype.connect = function (fn, opts) {\n  debug('readyState %s', this.readyState);\n  if (~this.readyState.indexOf('open')) return this;\n\n  debug('opening %s', this.uri);\n  this.engine = eio(this.uri, this.opts);\n  var socket = this.engine;\n  var self = this;\n  this.readyState = 'opening';\n  this.skipReconnect = false;\n\n  // emit `open`\n  var openSub = on(socket, 'open', function () {\n    self.onopen();\n    fn && fn();\n  });\n\n  // emit `connect_error`\n  var errorSub = on(socket, 'error', function (data) {\n    debug('connect_error');\n    self.cleanup();\n    self.readyState = 'closed';\n    self.emitAll('connect_error', data);\n    if (fn) {\n      var err = new Error('Connection error');\n      err.data = data;\n      fn(err);\n    } else {\n      // Only do this if there is no fn to handle the error\n      self.maybeReconnectOnOpen();\n    }\n  });\n\n  // emit `connect_timeout`\n  if (false !== this._timeout) {\n    var timeout = this._timeout;\n    debug('connect attempt will timeout after %d', timeout);\n\n    if (timeout === 0) {\n      openSub.destroy(); // prevents a race condition with the 'open' event\n    }\n\n    // set timer\n    var timer = setTimeout(function () {\n      debug('connect attempt timed out after %d', timeout);\n      openSub.destroy();\n      socket.close();\n      socket.emit('error', 'timeout');\n      self.emitAll('connect_timeout', timeout);\n    }, timeout);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n\n  this.subs.push(openSub);\n  this.subs.push(errorSub);\n\n  return this;\n};\n\n/**\n * Called upon transport open.\n *\n * @api private\n */\n\nManager.prototype.onopen = function () {\n  debug('open');\n\n  // clear old subs\n  this.cleanup();\n\n  // mark as open\n  this.readyState = 'open';\n  this.emit('open');\n\n  // add new subs\n  var socket = this.engine;\n  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n  this.subs.push(on(socket, 'ping', bind(this, 'onping')));\n  this.subs.push(on(socket, 'pong', bind(this, 'onpong')));\n  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n};\n\n/**\n * Called upon a ping.\n *\n * @api private\n */\n\nManager.prototype.onping = function () {\n  this.lastPing = new Date();\n  this.emitAll('ping');\n};\n\n/**\n * Called upon a packet.\n *\n * @api private\n */\n\nManager.prototype.onpong = function () {\n  this.emitAll('pong', new Date() - this.lastPing);\n};\n\n/**\n * Called with data.\n *\n * @api private\n */\n\nManager.prototype.ondata = function (data) {\n  this.decoder.add(data);\n};\n\n/**\n * Called when parser fully decodes a packet.\n *\n * @api private\n */\n\nManager.prototype.ondecoded = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon socket error.\n *\n * @api private\n */\n\nManager.prototype.onerror = function (err) {\n  debug('error', err);\n  this.emitAll('error', err);\n};\n\n/**\n * Creates a new socket for the given `nsp`.\n *\n * @return {Socket}\n * @api public\n */\n\nManager.prototype.socket = function (nsp, opts) {\n  var socket = this.nsps[nsp];\n  if (!socket) {\n    socket = new Socket(this, nsp, opts);\n    this.nsps[nsp] = socket;\n    var self = this;\n    socket.on('connecting', onConnecting);\n    socket.on('connect', function () {\n      socket.id = self.generateId(nsp);\n    });\n\n    if (this.autoConnect) {\n      // manually call here since connecting event is fired before listening\n      onConnecting();\n    }\n  }\n\n  function onConnecting () {\n    if (!~indexOf(self.connecting, socket)) {\n      self.connecting.push(socket);\n    }\n  }\n\n  return socket;\n};\n\n/**\n * Called upon a socket close.\n *\n * @param {Socket} socket\n */\n\nManager.prototype.destroy = function (socket) {\n  var index = indexOf(this.connecting, socket);\n  if (~index) this.connecting.splice(index, 1);\n  if (this.connecting.length) return;\n\n  this.close();\n};\n\n/**\n * Writes a packet.\n *\n * @param {Object} packet\n * @api private\n */\n\nManager.prototype.packet = function (packet) {\n  debug('writing packet %j', packet);\n  var self = this;\n  if (packet.query && packet.type === 0) packet.nsp += '?' + packet.query;\n\n  if (!self.encoding) {\n    // encode, then write to engine with result\n    self.encoding = true;\n    this.encoder.encode(packet, function (encodedPackets) {\n      for (var i = 0; i < encodedPackets.length; i++) {\n        self.engine.write(encodedPackets[i], packet.options);\n      }\n      self.encoding = false;\n      self.processPacketQueue();\n    });\n  } else { // add packet to the queue\n    self.packetBuffer.push(packet);\n  }\n};\n\n/**\n * If packet buffer is non-empty, begins encoding the\n * next packet in line.\n *\n * @api private\n */\n\nManager.prototype.processPacketQueue = function () {\n  if (this.packetBuffer.length > 0 && !this.encoding) {\n    var pack = this.packetBuffer.shift();\n    this.packet(pack);\n  }\n};\n\n/**\n * Clean up transport subscriptions and packet buffer.\n *\n * @api private\n */\n\nManager.prototype.cleanup = function () {\n  debug('cleanup');\n\n  var subsLength = this.subs.length;\n  for (var i = 0; i < subsLength; i++) {\n    var sub = this.subs.shift();\n    sub.destroy();\n  }\n\n  this.packetBuffer = [];\n  this.encoding = false;\n  this.lastPing = null;\n\n  this.decoder.destroy();\n};\n\n/**\n * Close the current socket.\n *\n * @api private\n */\n\nManager.prototype.close =\nManager.prototype.disconnect = function () {\n  debug('disconnect');\n  this.skipReconnect = true;\n  this.reconnecting = false;\n  if ('opening' === this.readyState) {\n    // `onclose` will not fire because\n    // an open event never happened\n    this.cleanup();\n  }\n  this.backoff.reset();\n  this.readyState = 'closed';\n  if (this.engine) this.engine.close();\n};\n\n/**\n * Called upon engine close.\n *\n * @api private\n */\n\nManager.prototype.onclose = function (reason) {\n  debug('onclose');\n\n  this.cleanup();\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.emit('close', reason);\n\n  if (this._reconnection && !this.skipReconnect) {\n    this.reconnect();\n  }\n};\n\n/**\n * Attempt a reconnection.\n *\n * @api private\n */\n\nManager.prototype.reconnect = function () {\n  if (this.reconnecting || this.skipReconnect) return this;\n\n  var self = this;\n\n  if (this.backoff.attempts >= this._reconnectionAttempts) {\n    debug('reconnect failed');\n    this.backoff.reset();\n    this.emitAll('reconnect_failed');\n    this.reconnecting = false;\n  } else {\n    var delay = this.backoff.duration();\n    debug('will wait %dms before reconnect attempt', delay);\n\n    this.reconnecting = true;\n    var timer = setTimeout(function () {\n      if (self.skipReconnect) return;\n\n      debug('attempting reconnect');\n      self.emitAll('reconnect_attempt', self.backoff.attempts);\n      self.emitAll('reconnecting', self.backoff.attempts);\n\n      // check again for the case socket closed in above events\n      if (self.skipReconnect) return;\n\n      self.open(function (err) {\n        if (err) {\n          debug('reconnect attempt error');\n          self.reconnecting = false;\n          self.reconnect();\n          self.emitAll('reconnect_error', err.data);\n        } else {\n          debug('reconnect success');\n          self.onreconnect();\n        }\n      });\n    }, delay);\n\n    this.subs.push({\n      destroy: function () {\n        clearTimeout(timer);\n      }\n    });\n  }\n};\n\n/**\n * Called upon successful reconnect.\n *\n * @api private\n */\n\nManager.prototype.onreconnect = function () {\n  var attempt = this.backoff.attempts;\n  this.reconnecting = false;\n  this.backoff.reset();\n  this.updateSocketIds();\n  this.emitAll('reconnect', attempt);\n};\n","\n/**\n * Module dependencies.\n */\n\nvar url = require('./url');\nvar parser = require('socket.io-parser');\nvar Manager = require('./manager');\nvar debug = require('debug')('socket.io-client');\n\n/**\n * Module exports.\n */\n\nmodule.exports = exports = lookup;\n\n/**\n * Managers cache.\n */\n\nvar cache = exports.managers = {};\n\n/**\n * Looks up an existing `Manager` for multiplexing.\n * If the user summons:\n *\n *   `io('http://localhost/a');`\n *   `io('http://localhost/b');`\n *\n * We reuse the existing instance based on same scheme/port/host,\n * and we initialize sockets for each namespace.\n *\n * @api public\n */\n\nfunction lookup (uri, opts) {\n  if (typeof uri === 'object') {\n    opts = uri;\n    uri = undefined;\n  }\n\n  opts = opts || {};\n\n  var parsed = url(uri);\n  var source = parsed.source;\n  var id = parsed.id;\n  var path = parsed.path;\n  var sameNamespace = cache[id] && path in cache[id].nsps;\n  var newConnection = opts.forceNew || opts['force new connection'] ||\n                      false === opts.multiplex || sameNamespace;\n\n  var io;\n\n  if (newConnection) {\n    debug('ignoring socket cache for %s', source);\n    io = Manager(source, opts);\n  } else {\n    if (!cache[id]) {\n      debug('new io instance for %s', source);\n      cache[id] = Manager(source, opts);\n    }\n    io = cache[id];\n  }\n  if (parsed.query && !opts.query) {\n    opts.query = parsed.query;\n  }\n  return io.socket(parsed.path, opts);\n}\n\n/**\n * Protocol version.\n *\n * @api public\n */\n\nexports.protocol = parser.protocol;\n\n/**\n * `connect`.\n *\n * @param {String} uri\n * @api public\n */\n\nexports.connect = lookup;\n\n/**\n * Expose constructors for standalone build.\n *\n * @api public\n */\n\nexports.Manager = require('./manager');\nexports.Socket = require('./socket');\n","/* global define */\n/**\n * Uberproto\n *\n * A base object for ECMAScript 5 style prototypal inheritance.\n *\n * @see https://github.com/rauschma/proto-js/\n * @see http://ejohn.org/blog/simple-javascript-inheritance/\n * @see http://uxebu.com/blog/2011/02/23/object-based-inheritance-for-ecmascript-5/\n */\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.Proto = factory();\n  }\n}(this, function () {\n  var HAS_SYMBOLS = typeof Object.getOwnPropertySymbols === 'function';\n\n  function makeSuper (_super, old, name, fn) {\n    var isFunction = typeof old === 'function';\n    var newMethod = function () {\n      var tmp = this._super;\n\n      // Add a new ._super() method that is the same method\n      // but either pointing to the prototype method\n      // or to the overwritten method\n      this._super = isFunction ? old : _super[name];\n\n      // The method only need to be bound temporarily, so we\n      // remove it when we're done executing\n      var ret = fn.apply(this, arguments);\n\n      this._super = tmp;\n\n      return ret;\n    };\n\n    if (isFunction) {\n      Object.keys(old).forEach(function (name) {\n        newMethod[name] = old[name];\n      });\n\n      if (HAS_SYMBOLS) {\n        Object.getOwnPropertySymbols(old).forEach(function (name) {\n          newMethod[name] = old[name];\n        });\n      }\n    }\n\n    return newMethod;\n  }\n\n  return {\n    /**\n     * Create a new object using Object.create. The arguments will be\n     * passed to the new instances init method or to a method name set in\n     * __init.\n     */\n    create: function () {\n      var instance = Object.create(this);\n      var init = typeof instance.__init === 'string' ? instance.__init : 'init';\n\n      if (typeof instance[init] === 'function') {\n        instance[init].apply(instance, arguments);\n      }\n      return instance;\n    },\n    /**\n     * Mixin a given set of properties\n     * @param prop The properties to mix in\n     * @param obj [optional]\n     * The object to add the mixin\n     */\n    mixin: function (prop, obj) {\n      var self = obj || this;\n      var fnTest = /\\b_super\\b/;\n      var _super = Object.getPrototypeOf(self) || self.prototype;\n      var descriptors = {};\n      var proto = prop;\n      var processProperty = function (name) {\n        var descriptor = Object.getOwnPropertyDescriptor(proto, name);\n\n        if (!descriptors[name] && descriptor) {\n          descriptors[name] = descriptor;\n        }\n      };\n\n      // Collect all property descriptors\n      do {\n        Object.getOwnPropertyNames(proto).forEach(processProperty);\n\n        if (HAS_SYMBOLS) {\n          Object.getOwnPropertySymbols(proto).forEach(processProperty);\n        }\n      } while ((proto = Object.getPrototypeOf(proto)) && Object.getPrototypeOf(proto));\n\n      var processDescriptor = function (name) {\n        var descriptor = descriptors[name];\n\n        if (typeof descriptor.value === 'function' && fnTest.test(descriptor.value)) {\n          descriptor.value = makeSuper(_super, self[name], name, descriptor.value);\n        }\n\n        Object.defineProperty(self, name, descriptor);\n      };\n\n      Object.keys(descriptors).forEach(processDescriptor);\n\n      if (HAS_SYMBOLS) {\n        Object.getOwnPropertySymbols(descriptors).forEach(processDescriptor);\n      }\n\n      return self;\n    },\n    /**\n     * Extend the current or a given object with the given property and return the extended object.\n     * @param prop The properties to extend with\n     * @param obj [optional] The object to extend from\n     * @returns The extended object\n     */\n    extend: function (prop, obj) {\n      return this.mixin(prop, Object.create(obj || this));\n    },\n    /**\n     * Return a callback function with this set to the current or a given context object.\n     * @param name Name of the method to proxy\n     * @param args... [optional] Arguments to use for partial application\n     */\n    proxy: function (name) {\n      var fn = this[name];\n      var args = Array.prototype.slice.call(arguments, 1);\n\n      args.unshift(this);\n      return fn.bind.apply(fn, args);\n    }\n  };\n}));\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createSymbol = exports.makeUrl = exports.isPromise = exports._ = exports.stripSlashes = void 0;\n// Removes all leading and trailing slashes from a path\nfunction stripSlashes(name) {\n    return name.replace(/^(\\/+)|(\\/+)$/g, '');\n}\nexports.stripSlashes = stripSlashes;\n// A set of lodash-y utility functions that use ES6\nexports._ = {\n    each(obj, callback) {\n        if (obj && typeof obj.forEach === 'function') {\n            obj.forEach(callback);\n        }\n        else if (exports._.isObject(obj)) {\n            Object.keys(obj).forEach(key => callback(obj[key], key));\n        }\n    },\n    some(value, callback) {\n        return Object.keys(value)\n            .map(key => [value[key], key])\n            .some(([val, key]) => callback(val, key));\n    },\n    every(value, callback) {\n        return Object.keys(value)\n            .map(key => [value[key], key])\n            .every(([val, key]) => callback(val, key));\n    },\n    keys(obj) {\n        return Object.keys(obj);\n    },\n    values(obj) {\n        return exports._.keys(obj).map(key => obj[key]);\n    },\n    isMatch(obj, item) {\n        return exports._.keys(item).every(key => obj[key] === item[key]);\n    },\n    isEmpty(obj) {\n        return exports._.keys(obj).length === 0;\n    },\n    isObject(item) {\n        return (typeof item === 'object' && !Array.isArray(item) && item !== null);\n    },\n    isObjectOrArray(value) {\n        return typeof value === 'object' && value !== null;\n    },\n    extend(first, ...rest) {\n        return Object.assign(first, ...rest);\n    },\n    omit(obj, ...keys) {\n        const result = exports._.extend({}, obj);\n        keys.forEach(key => delete result[key]);\n        return result;\n    },\n    pick(source, ...keys) {\n        return keys.reduce((result, key) => {\n            if (source[key] !== undefined) {\n                result[key] = source[key];\n            }\n            return result;\n        }, {});\n    },\n    // Recursively merge the source object into the target object\n    merge(target, source) {\n        if (exports._.isObject(target) && exports._.isObject(source)) {\n            Object.keys(source).forEach(key => {\n                if (exports._.isObject(source[key])) {\n                    if (!target[key]) {\n                        Object.assign(target, { [key]: {} });\n                    }\n                    exports._.merge(target[key], source[key]);\n                }\n                else {\n                    Object.assign(target, { [key]: source[key] });\n                }\n            });\n        }\n        return target;\n    }\n};\n// Duck-checks if an object looks like a promise\nfunction isPromise(result) {\n    return exports._.isObject(result) &&\n        typeof result.then === 'function';\n}\nexports.isPromise = isPromise;\nfunction makeUrl(path, app = {}) {\n    const get = typeof app.get === 'function' ? app.get.bind(app) : () => { };\n    const env = get('env') || process.env.NODE_ENV;\n    const host = get('host') || process.env.HOST_NAME || 'localhost';\n    const protocol = (env === 'development' || env === 'test' || (env === undefined)) ? 'http' : 'https';\n    const PORT = get('port') || process.env.PORT || 3030;\n    const port = (env === 'development' || env === 'test' || (env === undefined)) ? `:${PORT}` : '';\n    path = path || '';\n    return `${protocol}://${host}${port}/${exports.stripSlashes(path)}`;\n}\nexports.makeUrl = makeUrl;\nfunction createSymbol(name) {\n    return typeof Symbol !== 'undefined' ? Symbol(name) : name;\n}\nexports.createSymbol = createSymbol;\n//# sourceMappingURL=utils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.enableHooks = exports.processHooks = exports.getHooks = exports.isHookObject = exports.convertHookData = exports.makeArguments = exports.defaultMakeArguments = exports.createHookObject = exports.ACTIVATE_HOOKS = void 0;\nconst utils_1 = require(\"./utils\");\nconst { each, pick } = utils_1._;\nexports.ACTIVATE_HOOKS = utils_1.createSymbol('__feathersActivateHooks');\nfunction createHookObject(method, data = {}) {\n    const hook = {};\n    Object.defineProperty(hook, 'toJSON', {\n        value() {\n            return pick(this, 'type', 'method', 'path', 'params', 'id', 'data', 'result', 'error');\n        }\n    });\n    return Object.assign(hook, data, {\n        method,\n        // A dynamic getter that returns the path of the service\n        get path() {\n            const { app, service } = data;\n            if (!service || !app || !app.services) {\n                return null;\n            }\n            return Object.keys(app.services)\n                .find(path => app.services[path] === service);\n        }\n    });\n}\nexports.createHookObject = createHookObject;\n// Fallback used by `makeArguments` which usually won't be used\nfunction defaultMakeArguments(hook) {\n    const result = [];\n    if (typeof hook.id !== 'undefined') {\n        result.push(hook.id);\n    }\n    if (hook.data) {\n        result.push(hook.data);\n    }\n    result.push(hook.params || {});\n    return result;\n}\nexports.defaultMakeArguments = defaultMakeArguments;\n// Turns a hook object back into a list of arguments\n// to call a service method with\nfunction makeArguments(hook) {\n    switch (hook.method) {\n        case 'find':\n            return [hook.params];\n        case 'get':\n        case 'remove':\n            return [hook.id, hook.params];\n        case 'update':\n        case 'patch':\n            return [hook.id, hook.data, hook.params];\n        case 'create':\n            return [hook.data, hook.params];\n    }\n    return defaultMakeArguments(hook);\n}\nexports.makeArguments = makeArguments;\n// Converts different hook registration formats into the\n// same internal format\nfunction convertHookData(obj) {\n    let hook = {};\n    if (Array.isArray(obj)) {\n        hook = { all: obj };\n    }\n    else if (typeof obj !== 'object') {\n        hook = { all: [obj] };\n    }\n    else {\n        each(obj, function (value, key) {\n            hook[key] = !Array.isArray(value) ? [value] : value;\n        });\n    }\n    return hook;\n}\nexports.convertHookData = convertHookData;\n// Duck-checks a given object to be a hook object\n// A valid hook object has `type` and `method`\nfunction isHookObject(hookObject) {\n    return typeof hookObject === 'object' &&\n        typeof hookObject.method === 'string' &&\n        typeof hookObject.type === 'string';\n}\nexports.isHookObject = isHookObject;\n// Returns all service and application hooks combined\n// for a given method and type `appLast` sets if the hooks\n// from `app` should be added last (or first by default)\nfunction getHooks(app, service, type, method, appLast = false) {\n    const appHooks = app.__hooks[type][method] || [];\n    const serviceHooks = service.__hooks[type][method] || [];\n    if (appLast) {\n        // Run hooks in the order of service -> app -> finally\n        return serviceHooks.concat(appHooks);\n    }\n    return appHooks.concat(serviceHooks);\n}\nexports.getHooks = getHooks;\nfunction processHooks(hooks, initialHookObject) {\n    let hookObject = initialHookObject;\n    const updateCurrentHook = (current) => {\n        // Either use the returned hook object or the current\n        // hook object from the chain if the hook returned undefined\n        if (current) {\n            if (!isHookObject(current)) {\n                throw new Error(`${hookObject.type} hook for '${hookObject.method}' method returned invalid hook object`);\n            }\n            hookObject = current;\n        }\n        return hookObject;\n    };\n    // Go through all hooks and chain them into our promise\n    const promise = hooks.reduce((current, fn) => {\n        // @ts-ignore\n        const hook = fn.bind(this);\n        // Use the returned hook object or the old one\n        return current.then((currentHook) => hook(currentHook)).then(updateCurrentHook);\n    }, Promise.resolve(hookObject));\n    return promise.then(() => hookObject).catch(error => {\n        // Add the hook information to any errors\n        error.hook = hookObject;\n        throw error;\n    });\n}\nexports.processHooks = processHooks;\n// Add `.hooks` functionality to an object\nfunction enableHooks(obj, methods, types) {\n    if (typeof obj.hooks === 'function') {\n        return obj;\n    }\n    const hookData = {};\n    types.forEach(type => {\n        // Initialize properties where hook functions are stored\n        hookData[type] = {};\n    });\n    // Add non-enumerable `__hooks` property to the object\n    Object.defineProperty(obj, '__hooks', {\n        configurable: true,\n        value: hookData,\n        writable: true\n    });\n    return Object.assign(obj, {\n        hooks(allHooks) {\n            each(allHooks, (current, type) => {\n                // @ts-ignore\n                if (!this.__hooks[type]) {\n                    throw new Error(`'${type}' is not a valid hook type`);\n                }\n                const hooks = convertHookData(current);\n                each(hooks, (_value, method) => {\n                    if (method !== 'all' && methods.indexOf(method) === -1) {\n                        throw new Error(`'${method}' is not a valid hook method`);\n                    }\n                });\n                methods.forEach(method => {\n                    // @ts-ignore\n                    const myHooks = this.__hooks[type][method] || (this.__hooks[type][method] = []);\n                    if (hooks.all) {\n                        myHooks.push.apply(myHooks, hooks.all);\n                    }\n                    if (hooks[method]) {\n                        myHooks.push.apply(myHooks, hooks[method]);\n                    }\n                });\n            });\n            return this;\n        }\n    });\n}\nexports.enableHooks = enableHooks;\n//# sourceMappingURL=hooks.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hooks = void 0;\nconst hookUtils = __importStar(require(\"./hooks\"));\n__exportStar(require(\"./utils\"), exports);\nexports.hooks = hookUtils;\n//# sourceMappingURL=index.js.map","const { EventEmitter } = require('events');\nconst Proto = require('uberproto');\n\n// Returns a hook that emits service events. Should always be\n// used as the very last hook in the chain\nconst eventHook = exports.eventHook = function eventHook () {\n  return function (hook) {\n    const { app, service } = hook;\n    const eventName = hook.event === null ? hook.event : app.eventMappings[hook.method];\n    const isHookEvent = service._hookEvents && service._hookEvents.indexOf(eventName) !== -1;\n\n    // If this event is not being sent yet and we are not in an error hook\n    if (eventName && isHookEvent && hook.type !== 'error') {\n      const results = Array.isArray(hook.result) ? hook.result : [ hook.result ];\n\n      results.forEach(element => service.emit(eventName, element, hook));\n    }\n  };\n};\n\n// Mixin that turns a service into a Node event emitter\nconst eventMixin = exports.eventMixin = function eventMixin (service) {\n  if (service._serviceEvents) {\n    return;\n  }\n\n  const app = this;\n  // Indicates if the service is already an event emitter\n  const isEmitter = typeof service.on === 'function' &&\n    typeof service.emit === 'function';\n\n  // If not, mix it in (the service is always an Uberproto object that has a .mixin)\n  if (typeof service.mixin === 'function' && !isEmitter) {\n    service.mixin(EventEmitter.prototype);\n  }\n\n  // Define non-enumerable properties of\n  Object.defineProperties(service, {\n    // A list of all events that this service sends\n    _serviceEvents: {\n      value: Array.isArray(service.events) ? service.events.slice() : []\n    },\n\n    // A list of events that should be handled through the event hooks\n    _hookEvents: {\n      value: []\n    }\n  });\n\n  // `app.eventMappings` has the mapping from method name to event name\n  Object.keys(app.eventMappings).forEach(method => {\n    const event = app.eventMappings[method];\n    const alreadyEmits = service._serviceEvents.indexOf(event) !== -1;\n\n    // Add events for known methods to _serviceEvents and _hookEvents\n    // if the service indicated it does not send it itself yet\n    if (typeof service[method] === 'function' && !alreadyEmits) {\n      service._serviceEvents.push(event);\n      service._hookEvents.push(event);\n    }\n  });\n};\n\nmodule.exports = function () {\n  return function (app) {\n    // Mappings from service method to event name\n    Object.assign(app, {\n      eventMappings: {\n        create: 'created',\n        update: 'updated',\n        remove: 'removed',\n        patch: 'patched'\n      }\n    });\n\n    // Register the event hook\n    // `finally` hooks always run last after `error` and `after` hooks\n    app.hooks({ finally: eventHook() });\n\n    // Make the app an event emitter\n    Proto.mixin(EventEmitter.prototype, app);\n\n    app.mixins.push(eventMixin);\n  };\n};\n","const { _ } = require('@feathersjs/commons');\n\nconst assignArguments = context => {\n  const { service, method } = context;\n  const parameters = service.methods[method];\n\n  context.arguments.forEach((value, index) => {\n    context[parameters[index]] = value;\n  });\n\n  if (!context.params) {\n    context.params = {};\n  }\n\n  return context;\n};\n\nconst validate = context => {\n  const { service, method, path } = context;\n  const parameters = service.methods[method];\n\n  if (parameters.includes('id') && context.id === undefined) {\n    throw new Error(`An id must be provided to the '${path}.${method}' method`);\n  }\n\n  if (parameters.includes('data') && !_.isObjectOrArray(context.data)) {\n    throw new Error(`A data object must be provided to the '${path}.${method}' method`);\n  }\n\n  return context;\n};\n\nmodule.exports = [ assignArguments, validate ];\n","const { hooks, isPromise } = require('@feathersjs/commons');\nconst baseHooks = require('./base');\n\nconst {\n  createHookObject,\n  getHooks,\n  processHooks,\n  enableHooks,\n  ACTIVATE_HOOKS\n} = hooks;\n\nconst withHooks = function withHooks ({\n  app,\n  service,\n  method,\n  original\n}) {\n  return (_hooks = {}) => {\n    const hooks = app.hookTypes.reduce((result, type) => {\n      const value = _hooks[type] || [];\n\n      result[type] = Array.isArray(value) ? value : [ value ];\n\n      return result;\n    }, {});\n\n    return function (...args) {\n      const returnHook = args[args.length - 1] === true\n        ? args.pop() : false;\n\n      // Create the hook object that gets passed through\n      const hookObject = createHookObject(method, {\n        type: 'before', // initial hook object type\n        arguments: args,\n        service,\n        app\n      });\n\n      return Promise.resolve(hookObject)\n\n        // Run `before` hooks\n        .then(hookObject => {\n          return processHooks.call(service, baseHooks.concat(hooks.before), hookObject);\n        })\n\n        // Run the original method\n        .then(hookObject => {\n          // If `hookObject.result` is set, skip the original method\n          if (typeof hookObject.result !== 'undefined') {\n            return hookObject;\n          }\n\n          // Otherwise, call it with arguments created from the hook object\n          const promise = new Promise(resolve => {\n            const func = original || service[method];\n            const args = service.methods[method].map((value) => hookObject[value]);\n            const result = func.apply(service, args);\n\n            if (!isPromise(result)) {\n              throw new Error(`Service method '${hookObject.method}' for '${hookObject.path}' service must return a promise`);\n            }\n\n            resolve(result);\n          });\n\n          return promise\n            .then(result => {\n              hookObject.result = result;\n              return hookObject;\n            })\n            .catch(error => {\n              error.hook = hookObject;\n              throw error;\n            });\n        })\n\n        // Run `after` hooks\n        .then(hookObject => {\n          const afterHookObject = Object.assign({}, hookObject, {\n            type: 'after'\n          });\n\n          return processHooks.call(service, hooks.after, afterHookObject);\n        })\n\n        // Run `errors` hooks\n        .catch(error => {\n          const errorHookObject = Object.assign({}, error.hook, {\n            type: 'error',\n            original: error.hook,\n            error,\n            result: undefined\n          });\n\n          return processHooks.call(service, hooks.error, errorHookObject)\n            .catch(error => {\n              const errorHookObject = Object.assign({}, error.hook, {\n                error,\n                result: undefined\n              });\n\n              return errorHookObject;\n            });\n        })\n\n        // Run `finally` hooks\n        .then(hookObject => {\n          return processHooks.call(service, hooks.finally, hookObject)\n            .catch(error => {\n              const errorHookObject = Object.assign({}, error.hook, {\n                error,\n                result: undefined\n              });\n\n              return errorHookObject;\n            });\n        })\n\n        // Resolve with a result or reject with an error\n        .then(hookObject => {\n          if (typeof hookObject.error !== 'undefined' && typeof hookObject.result === 'undefined') {\n            return Promise.reject(returnHook ? hookObject : hookObject.error);\n          } else {\n            return returnHook ? hookObject : hookObject.result;\n          }\n        });\n    };\n  };\n};\n\n// A service mixin that adds `service.hooks()` method and functionality\nconst hookMixin = exports.hookMixin = function hookMixin (service) {\n  if (typeof service.hooks === 'function') {\n    return;\n  }\n\n  service.methods = Object.getOwnPropertyNames(service)\n    .filter(key => typeof service[key] === 'function' && service[key][ACTIVATE_HOOKS])\n    .reduce((result, methodName) => {\n      result[methodName] = service[methodName][ACTIVATE_HOOKS];\n      return result;\n    }, service.methods || {});\n\n  Object.assign(service.methods, {\n    find: ['params'],\n    get: ['id', 'params'],\n    create: ['data', 'params'],\n    update: ['id', 'data', 'params'],\n    patch: ['id', 'data', 'params'],\n    remove: ['id', 'params']\n  });\n\n  const app = this;\n  const methodNames = Object.keys(service.methods);\n  // Assemble the mixin object that contains all \"hooked\" service methods\n  const mixin = methodNames.reduce((mixin, method) => {\n    if (typeof service[method] !== 'function') {\n      return mixin;\n    }\n\n    mixin[method] = function () {\n      const service = this;\n      const args = Array.from(arguments);\n      const original = service._super.bind(service);\n\n      return withHooks({\n        app,\n        service,\n        method,\n        original\n      })({\n        before: getHooks(app, service, 'before', method),\n        after: getHooks(app, service, 'after', method, true),\n        error: getHooks(app, service, 'error', method, true),\n        finally: getHooks(app, service, 'finally', method, true)\n      })(...args);\n    };\n\n    return mixin;\n  }, {});\n\n  // Add .hooks method and properties to the service\n  enableHooks(service, methodNames, app.hookTypes);\n\n  service.mixin(mixin);\n};\n\nmodule.exports = function () {\n  return function (app) {\n    // We store a reference of all supported hook types on the app\n    // in case someone needs it\n    Object.assign(app, {\n      hookTypes: ['before', 'after', 'error', 'finally']\n    });\n\n    // Add functionality for hooks to be registered as app.hooks\n    enableHooks(app, app.methods, app.hookTypes);\n\n    app.mixins.push(hookMixin);\n  };\n};\n\nmodule.exports.withHooks = withHooks;\n\nmodule.exports.ACTIVATE_HOOKS = ACTIVATE_HOOKS;\n\nmodule.exports.activateHooks = function activateHooks (args) {\n  return fn => {\n    Object.defineProperty(fn, ACTIVATE_HOOKS, { value: args });\n    return fn;\n  };\n};\n","module.exports = '4.5.8';\n","const debug = require('debug')('feathers:application');\nconst { stripSlashes } = require('@feathersjs/commons');\n\nconst Uberproto = require('uberproto');\nconst events = require('./events');\nconst hooks = require('./hooks');\nconst version = require('./version');\n\nconst Proto = Uberproto.extend({\n  create: null\n});\n\nconst application = {\n  init () {\n    Object.assign(this, {\n      version,\n      methods: [\n        'find', 'get', 'create', 'update', 'patch', 'remove'\n      ],\n      mixins: [],\n      services: {},\n      providers: [],\n      _setup: false,\n      settings: {}\n    });\n\n    this.configure(hooks());\n    this.configure(events());\n  },\n\n  get (name) {\n    return this.settings[name];\n  },\n\n  set (name, value) {\n    this.settings[name] = value;\n    return this;\n  },\n\n  disable (name) {\n    this.settings[name] = false;\n    return this;\n  },\n\n  disabled (name) {\n    return !this.settings[name];\n  },\n\n  enable (name) {\n    this.settings[name] = true;\n    return this;\n  },\n\n  enabled (name) {\n    return !!this.settings[name];\n  },\n\n  configure (fn) {\n    fn.call(this, this);\n\n    return this;\n  },\n\n  service (path, service) {\n    if (typeof service !== 'undefined') {\n      throw new Error('Registering a new service with `app.service(path, service)` is no longer supported. Use `app.use(path, service)` instead.');\n    }\n\n    const location = stripSlashes(path) || '/';\n    const current = this.services[location];\n\n    if (typeof current === 'undefined' && typeof this.defaultService === 'function') {\n      return this.use(location, this.defaultService(location))\n        .service(location);\n    }\n\n    return current;\n  },\n\n  use (path, service, options = {}) {\n    if (typeof path !== 'string') {\n      throw new Error(`'${path}' is not a valid service path.`);\n    }\n\n    const location = stripSlashes(path) || '/';\n    const isSubApp = typeof service.service === 'function' && service.services;\n    const isService = this.methods.concat('setup').some(name => typeof service[name] === 'function');\n\n    if (isSubApp) {\n      const subApp = service;\n\n      Object.keys(subApp.services).forEach(subPath =>\n        this.use(`${location}/${subPath}`, subApp.service(subPath))\n      );\n\n      return this;\n    }\n\n    if (!isService) {\n      throw new Error(`Invalid service object passed for path \\`${location}\\``);\n    }\n\n    // If the service is already Uberproto'd use it directly\n    const protoService = Proto.isPrototypeOf(service) ? service : Proto.extend(service);\n\n    debug(`Registering new service at \\`${location}\\``);\n\n    // Add all the mixins\n    this.mixins.forEach(fn => fn.call(this, protoService, location, options));\n\n    if (typeof protoService._setup === 'function') {\n      protoService._setup(this, location);\n    }\n\n    // Run the provider functions to register the service\n    this.providers.forEach(provider =>\n      provider.call(this, protoService, location, options)\n    );\n\n    // If we ran setup already, set this service up explicitly\n    if (this._isSetup && typeof protoService.setup === 'function') {\n      debug(`Setting up service for \\`${location}\\``);\n      protoService.setup(this, location);\n    }\n\n    this.services[location] = protoService;\n\n    return this;\n  },\n\n  setup () {\n    // Setup each service (pass the app so that they can look up other services etc.)\n    Object.keys(this.services).forEach(path => {\n      const service = this.services[path];\n\n      debug(`Setting up service for \\`${path}\\``);\n\n      if (typeof service.setup === 'function') {\n        service.setup(this, path);\n      }\n    });\n\n    this._isSetup = true;\n\n    return this;\n  }\n};\n\nmodule.exports = application;\n","const Proto = require('uberproto');\nconst Application = require('./application');\nconst version = require('./version');\nconst { ACTIVATE_HOOKS, activateHooks } = require('./hooks');\n// A base object Prototype that does not inherit from a\n// potentially polluted Object prototype\nconst baseObject = Object.create(null);\n\nfunction createApplication () {\n  const app = Object.create(baseObject);\n\n  // Mix in the base application\n  Proto.mixin(Application, app);\n\n  app.init();\n\n  return app;\n}\n\ncreateApplication.version = version;\ncreateApplication.ACTIVATE_HOOKS = ACTIVATE_HOOKS;\ncreateApplication.activateHooks = activateHooks;\n\nmodule.exports = createApplication;\n\n// For better ES module (TypeScript) compatibility\nmodule.exports.default = createApplication;\n","const debug = require('debug')('@feathersjs/errors');\n\nfunction FeathersError (msg, name, code, className, data) {\n  msg = msg || 'Error';\n\n  let errors;\n  let message;\n  let newData;\n\n  if (msg instanceof Error) {\n    message = msg.message || 'Error';\n\n    // NOTE (EK): This is typically to handle validation errors\n    if (msg.errors) {\n      errors = msg.errors;\n    }\n  } else if (typeof msg === 'object') { // Support plain old objects\n    message = msg.message || 'Error';\n    data = msg;\n  } else { // message is just a string\n    message = msg;\n  }\n\n  if (data) {\n    // NOTE(EK): To make sure that we are not messing\n    // with immutable data, just make a copy.\n    // https://github.com/feathersjs/errors/issues/19\n    newData = JSON.parse(JSON.stringify(data));\n\n    if (newData.errors) {\n      errors = newData.errors;\n      delete newData.errors;\n    } else if (data.errors) {\n      // The errors property from data could be\n      // stripped away while cloning resulting newData not to have it\n      // For example: when cloning arrays this property\n      errors = JSON.parse(JSON.stringify(data.errors));\n    }\n  }\n\n  // NOTE (EK): Babel doesn't support this so\n  // we have to pass in the class name manually.\n  // this.name = this.constructor.name;\n  this.type = 'FeathersError';\n  this.name = name;\n  this.message = message;\n  this.code = code;\n  this.className = className;\n  this.data = newData;\n  this.errors = errors || {};\n\n  debug(`${this.name}(${this.code}): ${this.message}`);\n  debug(this.errors);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, FeathersError);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n}\n\nfunction inheritsFrom (Child, Parent) {\n  Child.prototype = Object.create(Parent.prototype);\n  Child.prototype.constructor = Child;\n}\n\ninheritsFrom(FeathersError, Error);\n\n// NOTE (EK): A little hack to get around `message` not\n// being included in the default toJSON call.\nObject.defineProperty(FeathersError.prototype, 'toJSON', {\n  value: function () {\n    return {\n      name: this.name,\n      message: this.message,\n      code: this.code,\n      className: this.className,\n      data: this.data,\n      errors: this.errors\n    };\n  }\n});\n\n// 400 - Bad Request\nfunction BadRequest (message, data) {\n  FeathersError.call(this, message, 'BadRequest', 400, 'bad-request', data);\n}\n\ninheritsFrom(BadRequest, FeathersError);\n\n// 401 - Not Authenticated\nfunction NotAuthenticated (message, data) {\n  FeathersError.call(this, message, 'NotAuthenticated', 401, 'not-authenticated', data);\n}\n\ninheritsFrom(NotAuthenticated, FeathersError);\n\n// 402 - Payment Error\nfunction PaymentError (message, data) {\n  FeathersError.call(this, message, 'PaymentError', 402, 'payment-error', data);\n}\n\ninheritsFrom(PaymentError, FeathersError);\n\n// 403 - Forbidden\nfunction Forbidden (message, data) {\n  FeathersError.call(this, message, 'Forbidden', 403, 'forbidden', data);\n}\n\ninheritsFrom(Forbidden, FeathersError);\n\n// 404 - Not Found\nfunction NotFound (message, data) {\n  FeathersError.call(this, message, 'NotFound', 404, 'not-found', data);\n}\n\ninheritsFrom(NotFound, FeathersError);\n\n// 405 - Method Not Allowed\nfunction MethodNotAllowed (message, data) {\n  FeathersError.call(this, message, 'MethodNotAllowed', 405, 'method-not-allowed', data);\n}\n\ninheritsFrom(MethodNotAllowed, FeathersError);\n\n// 406 - Not Acceptable\nfunction NotAcceptable (message, data) {\n  FeathersError.call(this, message, 'NotAcceptable', 406, 'not-acceptable', data);\n}\n\ninheritsFrom(NotAcceptable, FeathersError);\n\n// 408 - Timeout\nfunction Timeout (message, data) {\n  FeathersError.call(this, message, 'Timeout', 408, 'timeout', data);\n}\n\ninheritsFrom(Timeout, FeathersError);\n\n// 409 - Conflict\nfunction Conflict (message, data) {\n  FeathersError.call(this, message, 'Conflict', 409, 'conflict', data);\n}\n\ninheritsFrom(Conflict, FeathersError);\n\n// 410 - Gone\nfunction Gone (message, data) {\n  FeathersError(this, message, 'Gone', 410, 'gone', data);\n}\n\ninheritsFrom(Gone, FeathersError);\n\n// 411 - Length Required\nfunction LengthRequired (message, data) {\n  FeathersError.call(this, message, 'LengthRequired', 411, 'length-required', data);\n}\n\ninheritsFrom(LengthRequired, FeathersError);\n\n// 422 Unprocessable\nfunction Unprocessable (message, data) {\n  FeathersError.call(this, message, 'Unprocessable', 422, 'unprocessable', data);\n}\n\ninheritsFrom(Unprocessable, FeathersError);\n\n// 429 Too Many Requests\nfunction TooManyRequests (message, data) {\n  FeathersError.call(this, message, 'TooManyRequests', 429, 'too-many-requests', data);\n}\n\ninheritsFrom(TooManyRequests, FeathersError);\n\n// 500 - General Error\nfunction GeneralError (message, data) {\n  FeathersError.call(this, message, 'GeneralError', 500, 'general-error', data);\n}\n\ninheritsFrom(GeneralError, FeathersError);\n\n// 501 - Not Implemented\nfunction NotImplemented (message, data) {\n  FeathersError.call(this, message, 'NotImplemented', 501, 'not-implemented', data);\n}\n\ninheritsFrom(NotImplemented, FeathersError);\n\n// 502 - Bad Gateway\nfunction BadGateway (message, data) {\n  FeathersError.call(this, message, 'BadGateway', 502, 'bad-gateway', data);\n}\n\ninheritsFrom(BadGateway, FeathersError);\n\n// 503 - Unavailable\nfunction Unavailable (message, data) {\n  FeathersError.call(this, message, 'Unavailable', 503, 'unavailable', data);\n}\n\ninheritsFrom(Unavailable, FeathersError);\n\nconst errors = {\n  FeathersError,\n  BadRequest,\n  NotAuthenticated,\n  PaymentError,\n  Forbidden,\n  NotFound,\n  MethodNotAllowed,\n  NotAcceptable,\n  Timeout,\n  Conflict,\n  Gone,\n  LengthRequired,\n  Unprocessable,\n  TooManyRequests,\n  GeneralError,\n  NotImplemented,\n  BadGateway,\n  Unavailable,\n  400: BadRequest,\n  401: NotAuthenticated,\n  402: PaymentError,\n  403: Forbidden,\n  404: NotFound,\n  405: MethodNotAllowed,\n  406: NotAcceptable,\n  408: Timeout,\n  409: Conflict,\n  410: Gone,\n  411: LengthRequired,\n  422: Unprocessable,\n  429: TooManyRequests,\n  500: GeneralError,\n  501: NotImplemented,\n  502: BadGateway,\n  503: Unavailable\n};\n\nfunction convert (error) {\n  if (!error) {\n    return error;\n  }\n\n  const FeathersError = errors[error.name];\n  const result = FeathersError\n    ? new FeathersError(error.message, error.data)\n    : new Error(error.message || error);\n\n  if (typeof error === 'object') {\n    Object.assign(result, error);\n  }\n\n  return result;\n}\n\nmodule.exports = Object.assign({ convert }, errors);\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Service = void 0;\nconst debug_1 = __importDefault(require(\"debug\"));\nconst errors_1 = require(\"@feathersjs/errors\");\nconst debug = debug_1.default('@feathersjs/transport-commons/client');\nconst namespacedEmitterMethods = [\n    'addListener',\n    'emit',\n    'listenerCount',\n    'listeners',\n    'on',\n    'once',\n    'prependListener',\n    'prependOnceListener',\n    'removeAllListeners',\n    'removeListener'\n];\nconst otherEmitterMethods = [\n    'eventNames',\n    'getMaxListeners',\n    'setMaxListeners'\n];\nconst addEmitterMethods = (service) => {\n    otherEmitterMethods.forEach(method => {\n        service[method] = function (...args) {\n            if (typeof this.connection[method] !== 'function') {\n                throw new Error(`Can not call '${method}' on the client service connection`);\n            }\n            return this.connection[method](...args);\n        };\n    });\n    // Methods that should add the namespace (service path)\n    namespacedEmitterMethods.forEach(method => {\n        service[method] = function (name, ...args) {\n            if (typeof this.connection[method] !== 'function') {\n                throw new Error(`Can not call '${method}' on the client service connection`);\n            }\n            const eventName = `${this.path} ${name}`;\n            debug(`Calling emitter method ${method} with ` +\n                `namespaced event '${eventName}'`);\n            const result = this.connection[method](eventName, ...args);\n            return result === this.connection ? this : result;\n        };\n    });\n};\nclass Service {\n    constructor(options) {\n        this.events = options.events;\n        this.path = options.name;\n        this.connection = options.connection;\n        this.method = options.method;\n        this.timeout = options.timeout || 5000;\n        addEmitterMethods(this);\n    }\n    send(method, ...args) {\n        return new Promise((resolve, reject) => {\n            const timeoutId = setTimeout(() => reject(new errors_1.Timeout(`Timeout of ${this.timeout}ms exceeded calling ${method} on ${this.path}`, {\n                timeout: this.timeout,\n                method,\n                path: this.path\n            })), this.timeout);\n            args.unshift(method, this.path);\n            args.push(function (error, data) {\n                error = errors_1.convert(error);\n                clearTimeout(timeoutId);\n                return error ? reject(error) : resolve(data);\n            });\n            debug(`Sending socket.${this.method}`, args);\n            this.connection[this.method](...args);\n        });\n    }\n    find(params = {}) {\n        return this.send('find', params.query || {});\n    }\n    get(id, params = {}) {\n        return this.send('get', id, params.query || {});\n    }\n    create(data, params = {}) {\n        return this.send('create', data, params.query || {});\n    }\n    update(id, data, params = {}) {\n        return this.send('update', id, data, params.query || {});\n    }\n    patch(id, data, params = {}) {\n        return this.send('patch', id, data, params.query || {});\n    }\n    remove(id, params = {}) {\n        return this.send('remove', id, params.query || {});\n    }\n    // `off` is actually not part of the Node event emitter spec\n    // but we are adding it since everybody is expecting it because\n    // of the emitter-component Socket.io is using\n    off(name, ...args) {\n        if (typeof this.connection.off === 'function') {\n            const result = this.connection.off(`${this.path} ${name}`, ...args);\n            return result === this.connection ? this : result;\n        }\n        else if (args.length === 0) {\n            // @ts-ignore\n            return this.removeAllListeners(name);\n        }\n        // @ts-ignore\n        return this.removeListener(name, ...args);\n    }\n}\nexports.Service = Service;\n//# sourceMappingURL=client.js.map","module.exports = require('./lib/client').Service;\n","const Service = require('@feathersjs/transport-commons/client');\n\nfunction socketioClient (connection, options) {\n  if (!connection) {\n    throw new Error('Socket.io connection needs to be provided');\n  }\n\n  const defaultService = function (name) {\n    const events = Object.keys(this.eventMappings || {})\n      .map(method => this.eventMappings[method]);\n\n    const settings = Object.assign({}, options, {\n      events,\n      name,\n      connection,\n      method: 'emit'\n    });\n\n    return new Service(settings);\n  };\n\n  const initialize = function (app) {\n    if (typeof app.defaultService === 'function') {\n      throw new Error('Only one default client provider can be configured');\n    }\n\n    app.io = connection;\n    app.defaultService = defaultService;\n  };\n\n  initialize.Service = Service;\n  initialize.service = defaultService;\n\n  return initialize;\n}\n\nmodule.exports = socketioClient;\nmodule.exports.default = socketioClient;\n","import io from 'socket.io-client';\nimport feathers from '@feathersjs/feathers';\nimport socketio from '@feathersjs/socketio-client';\nconst socket = io('http://163.172.146.229:3030', {\n    transports: ['websocket'],\n    forceNew: true,\n});\nconst client = feathers();\nclient.configure(socketio(socket));\nexport const deviceService = client.service('devices');\n","import { deviceService } from './services/feather';\nimport { readable, writable } from 'svelte/store';\nconst initDevices = async () => {\n    const res = await deviceService.find();\n    return res;\n};\nconsole.log(initDevices());\nexport const name = writable('world');\nexport const devices = readable(initDevices(), function start(set) {\n    deviceService.on('created', () => set(initDevices()));\n});\n","<style>\n  main {\n    display: grid;\n    grid-gap: 10px;\n    grid-template-columns: repeat(3, 1fr);\n  }\n</style>\n\n<script lang=\"ts\">\n  import { devices } from '../stores';\n\n  const compareTime = (updateTime) => {\n    const d1 = new Date(updateTime);\n    const d2 = new Date();\n    const timeDiff = d2.getTime() - d1.getTime();\n    return timeDiff;\n  }\n</script>\n\n<main>\n  {#await $devices}\n    <p>...waiting</p>\n  {:then devices}\n    {#each devices as { id, mac, status, temp, updatedAt }, i}\n      <div class=\"box\">\n        <article class=\"media\">\n          <div class=\"media-content\">\n            <div class=\"content\">\n              <p>\n                <strong>{mac}</strong>\n                <br />\n                {#if compareTime(updatedAt) > 10000}\n                <span class=\"tag is-danger\">Offline</span>\n                {:else if status === 'Online'}\n                  <span class=\"tag is-success\">{status}</span>\n                {:else}\n                <span class=\"tag is-danger\">{status}</span>\n                {/if}\n              </p>\n            </div>\n          </div>\n          <div class=\"media-right\">\n            {#if compareTime(updatedAt) > 10000}\n            <h1 class=\"title is-1\">-- °C</h1>\n            {:else if status === 'Online'}\n                  <h1 class=\"title is-1\">{temp} °C</h1>\n                  {:else}\n                  <h1 class=\"title is-1\">-- °C</h1>\n                {/if}\n          </div>\n        </article>\n      </div>\n    {/each}\n  {:catch error}\n    <p style=\"color: red\">{error.message}</p>\n  {/await}\n</main>\n","import Dashboard from './views/Dashboard.svelte';\nconst routes = [\n    {\n        name: '/',\n        component: Dashboard,\n    },\n];\nexport { routes };\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import App from './App.svelte';\nimport { deviceService } from './services/feather';\ndeviceService.on('created', (device) => console.log(device));\nconst app = new App({\n    target: document.body,\n});\nexport default app;\n"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","component_subscribe","component","callback","$$","on_destroy","push","get_slot_context","definition","ctx","$$scope","tar","src","k","assign","slice","update_slot","slot","slot_definition","dirty","get_slot_changes_fn","get_slot_context_fn","slot_changes","lets","undefined","merged","len","Math","max","length","i","get_slot_changes","slot_context","p","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","element","name","document","createElement","text","data","createTextNode","space","empty","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_data","wholeText","toggle_class","toggle","classList","current_component","set_current_component","get_current_component","Error","onMount","on_mount","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","flushing","seen_callbacks","Set","flush","update","pop","has","add","clear","fragment","before_update","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","d","handle_promise","promise","info","token","type","index","key","resolved","child_ctx","current","needs_flush","blocks","m","mount","then","error","catch","hasCatch","pending","create_component","mount_component","new_on_destroy","map","filter","destroy_component","detaching","make_dirty","fill","init","options","instance","create_fragment","not_equal","props","parent_component","prop_values","bound","context","Map","skip_bound","ready","ret","rest","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","[object Object]","this","$destroy","indexOf","splice","$$props","obj","$$set","keys","subscriber_queue","readable","start","writable","stop","subscribers","set","new_value","run_queue","s","invalidate","subscriber","router","stores","initial_value","single","isArray","stores_array","auto","inited","values","cleanup","sync","result","unsubscribers","_","activeRoute","route","remove","urlString","namedUrl","urlBase","URL","namedParamsWithIndex","getPathNames","reduce","validParams","param","pathNames","pathname","pathName","trim","split","freeze","host","hostname","namedParams","allPathName","paramKey","namedParamsKeys","namedParamsValues","port","protocol","search","queryParams","params","searchParams","queryParamsKeys","_value","queryParamsValues","compareRoutes","routeName","removeSlash","includes","startsWith","findLocalisedRoute","language","exists","lang","entries","position","routeNameLocalised","anyEmptyNestedRoutes","routeObject","childRoute","getNamedParams","nameToPath","toLowerCase","pathWithQueryParams","currentRoute","path","join","pathWithoutQueryParams","removeExtraPaths","basePathNames","names","shift","startsWithNamedParam","updateRoutePath","basePath","convert","basePathResult","currentLanguage","localisedRoute","routeNames","currentPathName","UrlParser","require$$0","require$$1","RouterCurrent","trackPage","trackPageview","active","isActive","queryPath","includePath","activeRoutePath","setActive","newRoute","window","pathAndSearch","history","pushState","page","newPage","ga","pushActiveRoute","RouterGuard","onlyIf","guardInfo","valid","guard","redirect","redirectPath","destinationUrl","RouterRedirect","currentPath","redirectTo","RouterRoute","routeInfo","routeNamedParams","urlParser","namedPath","parsedParams","get","layout","RouterPath","basePathName","updatedPathRoute","routePathLanguage","localisedPathName","localisedRouteWithoutNamedParams","basePathNameWithoutNamedParams","basePathSameAsLocalised","updatedPath","localisedPath","routeLanguage","routePath","routePathValue","require$$2","require$$3","require$$4","NotFoundPage","RouterFinder","routes","currentUrl","routerOptions","defaultLanguage","staticParamMatch","searchActiveRoutes","routerPath","matchRoute","routerRoute","setCurrentRoute","nestedRoutes","nestedRoutesAndNoPath","indexRoute","findActiveRoute","searchActiveRoute","customLanguage","custom404Page","find","routeNotFound","routerCurrent","userDefinedRoutes","SpaRouter","langConvertTo","location","href","gaPageviews","setActiveRoute","navigateTo","addEventListener","event","localName","preventDefault","navigatePathname","hash","open","onpopstate","_event","routeIsActive","slot_ctx","handler","removeEventListener","to","title","styles","stopPropagation","Route","Router","Navigate","re","parts","str","e","substring","replace","query","exec","uri","source","authority","ipv6uri","regx","substr","queryKey","$0","$1","$2","h","y","val","String","match","n","parseFloat","parse","isNaN","long","ms","plural","fmtLong","round","fmtShort","JSON","stringify","floor","ceil","createDebug","namespace","prevTime","debug","enabled","self","curr","Date","diff","prev","args","arguments","exports","coerce","unshift","format","formatter","formatters","call","formatArgs","logFn","log","console","bind","apply","useColors","color","charCodeAt","colors","abs","selectColor","destroy","instances","module","stack","message","enable","namespaces","save","skips","RegExp","test","load","storage","process","env","DEBUG","Function","prototype","humanize","lastC","removeItem","navigator","userAgent","documentElement","style","WebkitAppearance","firebug","exception","table","parseInt","chrome","localStorage","localstorage","j","v","err","loc","charAt","parseuri","id","Emitter","mixin","on","_callbacks","once","off","removeListener","removeAllListeners","cb","emit","listeners","hasListeners","toString","arr","withNativeBuffer","Buffer","isBuffer","withNativeArrayBuffer","ArrayBuffer","isView","buffer","withNativeBlob","Blob","withNativeFile","File","_deconstructPacket","buffers","isBuf","placeholder","_placeholder","num","newData","_reconstructPacket","packet","packetData","pack","attachments","pendingBlobs","bloblessData","_removeBlobs","curKey","containingObject","fileReader","FileReader","onload","readAsArrayBuffer","Encoder","Decoder","ERROR_PACKET","ERROR","encodeAsString","BINARY_EVENT","BINARY_ACK","nsp","payload","tryStringify","reconstructor","BinaryReconstructor","reconPack","msg","encode","writeEncoding","deconstruction","binary","encodeAsBinary","Number","types","buf","next","tryParse","decodeString","base64","takeBinaryData","finishedReconstruction","binData","XMLHttpRequest","opts","xdomain","xscheme","enablesXDR","hasCORS","XDomainRequest","globalThis","concat","hasOwnProperty","hasBinary","toJSON","arraybuffer","end","bytes","byteLength","abv","Uint8Array","ii","count","err_cb","bail","proxy","byteArray","byteCount","byteIndex","stringFromCharCode","fromCharCode","ucs2decode","string","extra","output","counter","checkScalarValue","codePoint","strict","toUpperCase","createByte","encodeCodePoint","symbol","readContinuationByte","continuationByte","decodeSymbol","byte1","version","codePoints","byteString","decode","tmp","array","ucs2encode","chars","encoded1","encoded2","encoded3","encoded4","bufferLength","BlobBuilder","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","blobSupported","size","blobSupportsArrayBufferView","blobBuilderSupported","getBlob","mapArrayBufferViews","ary","chunk","copy","byteOffset","BlobBuilderConstructor","bb","part","BlobConstructor","base64encoder","isAndroid","isPhantomJS","dontSendBlobs","packets","close","ping","pong","upgrade","packetslist","each","done","after","eachWithIndex","el","supportsBinary","utf8encode","encodeBase64Packet","contentArray","resultBuffer","encodeArrayBuffer","fr","encodePacket","encodeBlobAsArrayBuffer","blob","encodeBlob","encodeBase64Object","encoded","utf8","b64data","b64","readAsDataURL","typed","basic","btoa","binaryType","utf8decode","decodeBase64Packet","tryDecode","sliceBuffer","isBinary","encodePayloadAsBlob","encodePayloadAsArrayBuffer","doneCallback","setLengthHeader","results","decodePayloadAsBinary","chr","decodePacket","encodedPackets","totalLength","acc","resultArray","bufferIndex","isString","ab","view","lenStr","binaryIdentifier","lengthAry","bufferTail","tailArray","msgLength","total","Transport","secure","timestampParam","timestampRequests","readyState","agent","socket","withCredentials","pfx","passphrase","cert","ca","ciphers","rejectUnauthorized","forceNode","isReactNative","extraHeaders","localAddress","onError","desc","description","doOpen","doClose","onClose","send","write","onOpen","onData","parser","onPacket","encodeURIComponent","qs","qry","pairs","pair","decodeURIComponent","constructor","alphabet","seed","yeast","now","decoded","Polling","hasXHR2","responseType","forceBase64","poll","pause","onPause","polling","doPoll","decodePayload","callbackfn","encodePayload","doWrite","schema","sid","parseqs","XHR","Request","requestTimeout","isSSL","xd","xs","method","async","request","req","sendXhr","pollXhr","xhr","setDisableHeaderCheck","setRequestHeader","timeout","hasXDR","onLoad","onerror","responseText","onreadystatechange","contentType","getResponseHeader","status","setTimeout","requestsCount","requests","onSuccess","fromError","abort","response","attachEvent","unloadHandler","JSONPPolling","rNewline","rEscapedNewline","___eio","script","form","iframe","insertAt","getElementsByTagName","head","body","area","iframeId","className","top","left","complete","initIframe","html","action","submit","BrowserWebSocket","NodeWebSocket","WebSocket","MozWebSocket","WebSocketImpl","WS","perMessageDeflate","usingBrowserWebSocket","protocols","check","headers","ws","supports","addEventListeners","onopen","onclose","onmessage","ev","compress","threshold","jsonp","forceJSONP","JSONP","websocket","Socket","transports","transportOptions","writeBuffer","prevBufferLen","policyPort","rememberUpgrade","onlyBinaryUpgrades","product","upgrades","pingInterval","pingTimeout","pingIntervalTimer","pingTimeoutTimer","priorWebsocketSuccess","createTransport","clone","EIO","transport","setTransport","onDrain","probe","failed","onTransportOpen","upgradeLosesBinary","upgrading","freezeTransport","onTransportClose","onupgrade","onHandshake","setPing","code","filterUpgrades","onHeartbeat","clearTimeout","sendPacket","waitForUpgrade","cleanupAndClose","reason","filteredUpgrades","list","events","connect","connect_error","connect_timeout","connecting","disconnect","reconnect","reconnect_attempt","reconnect_failed","reconnect_error","reconnecting","io","json","ids","acks","receiveBuffer","sendBuffer","connected","disconnected","flags","autoConnect","subEvents","subs","toArray","hasBin","EVENT","CONNECT","onpacket","sameNamespace","rootNamespaceError","onconnect","onevent","ACK","onack","DISCONNECT","ondisconnect","ack","sent","emitBuffered","Backoff","min","factor","jitter","attempts","duration","pow","rand","random","deviation","reset","setMin","setMax","setJitter","Manager","nsps","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","lastPing","encoding","packetBuffer","_parser","encoder","decoder","emitAll","updateSocketIds","generateId","engine","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","eio","skipReconnect","openSub","errorSub","timer","onping","onpong","ondata","ondecoded","onConnecting","processPacketQueue","subsLength","delay","onreconnect","attempt","lookup","cache","parsed","url","forceNew","multiplex","HAS_SYMBOLS","getOwnPropertySymbols","makeSuper","_super","old","isFunction","newMethod","__init","prop","fnTest","getPrototypeOf","descriptors","proto","processProperty","descriptor","getOwnPropertyDescriptor","getOwnPropertyNames","processDescriptor","defineProperty","extend","factory","w","isFinite","msAbs","isPlural","ReflectOwnKeys","delimiter","newDebug","toNamespace","regexp","default","disable","setItem","getItem","__nwjs","isObject","some","every","isMatch","item","isEmpty","isObjectOrArray","first","pick","merge","app","NODE_ENV","HOST_NAME","PORT","stripSlashes","Symbol","utils_1","defaultMakeArguments","hook","convertHookData","all","isHookObject","hookObject","createSymbol","service","services","appLast","appHooks","__hooks","serviceHooks","hooks","initialHookObject","updateCurrentHook","currentHook","methods","hookData","configurable","allHooks","myHooks","__createBinding","k2","enumerable","__setModuleDefault","__importStar","mod","__esModule","__exportStar","hookUtils","R","Reflect","ReflectApply","receiver","ownKeys","NumberIsNaN","EventEmitter","emitter","reject","eventListener","errorListener","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","prepend","existing","warning","newListener","warned","warn","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","arg","RangeError","setMaxListeners","getMaxListeners","doError","er","addListener","prependListener","prependOnceListener","originalListener","spliceOne","rawListeners","eventNames","eventHook","eventName","eventMappings","isHookEvent","_hookEvents","eventMixin","_serviceEvents","isEmitter","defineProperties","alreadyEmits","patch","finally","Proto","mixins","parameters","isPromise","createHookObject","getHooks","processHooks","enableHooks","ACTIVATE_HOOKS","withHooks","original","_hooks","hookTypes","returnHook","baseHooks","before","func","afterHookObject","errorHookObject","hookMixin","methodName","methodNames","Uberproto","providers","_setup","settings","configure","defaultService","use","isSubApp","isService","subApp","subPath","protoService","isPrototypeOf","provider","_isSetup","setup","activateHooks","baseObject","createApplication","Application","FeathersError","errors","captureStackTrace","inheritsFrom","Child","Parent","BadRequest","NotAuthenticated","PaymentError","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","Timeout","Conflict","Gone","LengthRequired","Unprocessable","TooManyRequests","GeneralError","NotImplemented","BadGateway","Unavailable","400","401","402","403","404","405","406","408","409","410","411","422","429","500","501","502","503","__importDefault","namespacedEmitterMethods","otherEmitterMethods","addEmitterMethods","connection","timeoutId","errors_1","Service","socketioClient","initialize","client","feathers","socketio","deviceService","initDevices","devices","important","setProperty","iterations","updateTime","d1","getTime","styleInject","css","ref","firstChild","styleSheet","cssText","device"],"mappings":"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"}